import{r as x,c as h,o,w as k,a as e,g as c,d as v,v as S,e as l,F as r,h as i,t as a,p as C,m as f,i as g}from"./app-AVBF0kRs.js";import{_ as R}from"./AdminAppLayout-Cp297nMr.js";const V={class:"flex gap-4"},$={class:"grid grid-cols-2 gap-6"},A={class:"bg-gray-800 p-4 rounded"},B={class:"space-y-2"},F=["onClick"],M={class:"bg-gray-800 p-4 rounded"},T={class:"space-y-3"},U={class:"font-bold text-white mb-2"},D={class:"flex flex-wrap gap-2"},N=["onClick"],j={class:"mt-6 bg-gray-800 p-4 rounded"},E=["value"],L=["value"],H={__name:"Roles",props:{roles:Array,admins:Array},setup(u){const m=x({name:""}),n=x({role_id:"",user_id:""});function b(){g.post("/admin/users/roles",m.value,{onSuccess:()=>m.value={name:""}})}function y(){g.post("/admin/users/roles/assign-to-admin",n.value,{onSuccess:()=>n.value={role_id:"",user_id:""}})}function _(p,t,s){confirm(`Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù†Ù‚Ø´ "${s}" Ø±Ø§ Ø§Ø² Ø§ÛŒÙ† Ø§Ø¯Ù…ÛŒÙ† Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ`)&&g.post("/admin/users/roles/revoke-from-admin",{user_id:p,role_id:t})}function w(p){confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù†Ù‚Ø´ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")&&g.delete(`/admin/users/roles/${p}`)}return(p,t)=>(o(),h(R,null,{default:k(()=>[e("div",null,[t[10]||(t[10]=e("h2",{class:"text-xl font-bold mb-6 text-yellow-600"},"Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù‚Ø´â€ŒÙ‡Ø§",-1)),e("form",{onSubmit:c(b,["prevent"]),class:"bg-gray-800 p-4 rounded mb-6"},[e("div",V,[v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>m.value.name=s),placeholder:"Ù†Ø§Ù… Ù†Ù‚Ø´ (Ù…Ø«Ø§Ù„: editor)",class:"flex-1 p-2 bg-gray-700 rounded text-white"},null,512),[[S,m.value.name]]),t[3]||(t[3]=e("button",{class:"bg-yellow-500 text-gray-900 px-4 py-2 rounded font-bold"},"Ø§ÙØ²ÙˆØ¯Ù† Ù†Ù‚Ø´",-1))])],32),e("div",$,[e("div",A,[t[4]||(t[4]=e("h3",{class:"text-lg font-bold mb-4 text-white"},"Ù†Ù‚Ø´â€ŒÙ‡Ø§",-1)),e("div",B,[(o(!0),l(r,null,i(u.roles,s=>(o(),l("div",{key:s.id,class:"flex items-center justify-between p-2 bg-gray-700 rounded text-white"},[e("span",null,a(s.translated_name),1),e("button",{onClick:d=>w(s.id),class:"text-red-400 hover:text-red-600 cursor-pointer"}," ðŸ—‘ï¸ ",8,F)]))),128))])]),e("div",M,[t[5]||(t[5]=e("h3",{class:"text-lg font-bold mb-4 text-white"},"Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§",-1)),e("div",T,[(o(!0),l(r,null,i(u.admins,s=>(o(),l("div",{key:s.id,class:"p-3 bg-gray-700 rounded"},[e("h4",U,a(s.name),1),e("div",D,[(o(!0),l(r,null,i(s.roles,d=>(o(),l("span",{key:d.id,class:"flex items-center gap-1 px-2 py-1 bg-blue-600 text-white text-xs rounded"},[C(a(d.translated_name)+" ",1),e("button",{onClick:q=>_(s.id,d.id,d.translated_name),class:"hover:text-red-300 transition-colors",title:"Ø­Ø°Ù Ù†Ù‚Ø´"}," âœ• ",8,N)]))),128))])]))),128))])])]),e("div",j,[t[9]||(t[9]=e("h3",{class:"text-lg font-bold mb-4 text-white"},"Ø§Ø®ØªØµØ§Øµ Ù†Ù‚Ø´ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†",-1)),e("form",{onSubmit:c(y,["prevent"]),class:"flex gap-4"},[v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.role_id=s),class:"flex-1 p-2 bg-gray-700 rounded text-white"},[t[6]||(t[6]=e("option",{value:"",disabled:""},"Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù‚Ø´",-1)),(o(!0),l(r,null,i(u.roles,s=>(o(),l("option",{key:s.id,value:s.id},a(s.translated_name),9,E))),128))],512),[[f,n.value.role_id]]),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.value.user_id=s),class:"flex-1 p-2 bg-gray-700 rounded text-white"},[t[7]||(t[7]=e("option",{value:"",disabled:""},"Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø¯Ù…ÛŒÙ†",-1)),(o(!0),l(r,null,i(u.admins,s=>(o(),l("option",{key:s.id,value:s.id},a(s.name),9,L))),128))],512),[[f,n.value.user_id]]),t[8]||(t[8]=e("button",{type:"submit",class:"bg-green-500 text-white px-6 py-2 rounded font-bold"},"Ø§Ø®ØªØµØ§Øµ",-1))],32)])])]),_:1}))}};export{H as default};
