import{_ as Se}from"./AppLayout-CFezu4mo.js";import{r as y,c as F,f as m,o as i,d as e,g as T,t as h,n as R,F as V,j as W,i as he,z as Te,C as we,J as Ie,D as Me,E as fe,b as ke,w as oe,T as _e,H as De,a as te,s as C,I as Pe,u as ne,h as Le,k as ae}from"./app-DXNWwaSl.js";import{_ as Oe}from"./RulesButton-D1JleRPE.js";import{u as Ae}from"./Footer-CH5V4jPZ.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ze={class:"meal-card bg-white rounded-2xl shadow-md hover:shadow-lg transition overflow-hidden border border-gray-200 flex flex-col relative"},Ee={class:"relative w-full bg-gray-100"},Je=["src","alt"],Fe={key:0,class:"absolute top-3 left-3 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow"},Ne={class:"p-4 flex flex-col flex-grow"},Be={class:"flex justify-between items-center gap-4 bg-orange-100 p-3 rounded-xl mb-3"},Ve={class:"font-bold text-gray-800 text-md"},We={class:"font-bold text-orange-500 text-md"},Re={class:"flex justify-center items-center gap-2 mb-3"},qe={class:"font-semibold text-green-600 text-base"},He={class:"flex justify-center mb-3"},Qe={class:"flex items-center justify-center gap-4 p-1 border border-gray-200 rounded-2xl w-40"},Ye=["disabled"],Ue={class:"text-lg font-semibold"},Ge={class:"flex-1 overflow-y-auto p-6 space-y-4"},Xe={class:"flex justify-between items-center border-b border-gray-200 pb-2 mb-4"},Ke={class:"text-xl font-semibold text-gray-800"},Ze={key:0,class:"relative w-full"},et=["src","alt"],tt={class:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-2"},lt=["onClick"],at=["src","alt"],st={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},rt={class:"space-y-1 text-gray-600 text-sm"},nt={class:"flex items-center justify-center gap-4 p-3 border border-gray-200 rounded-lg"},ot=["disabled"],it={class:"text-lg font-semibold"},dt=["disabled"],ut={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},ct={class:"list-disc list-inside text-gray-600 text-sm"},mt={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},gt={class:"w-full text-sm text-gray-600 border-collapse"},ft={class:"py-2 px-4 align-top border-l border-gray-300"},xt={class:"py-2 px-4 align-top"},bt={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},pt={class:"list-disc list-inside text-gray-600 text-sm"},vt={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},yt={class:"flex flex-col space-y-3"},ht={class:"flex-shrink-0"},wt={class:"w-10 h-10 rounded-full bg-lime-400 flex items-center justify-center text-white text-lg font-bold"},kt={class:"flex flex-col"},_t={class:"font-semibold text-gray-800"},Dt={class:"text-gray-600 text-sm"},jt={__name:"MealCard",props:{meal:Object,isAuthenticated:{type:Boolean,default:!1}},emits:["open-calendar"],setup(l,{emit:Z}){const p=l,A=y(!1),_=y(1),I={Ø±ÙˆØ²Ø§Ù†Ù‡:0,Ù‡ÙØªÚ¯ÛŒ:.2,Ù…Ø§Ù‡Ø§Ù†Ù‡:.4},N=F(()=>{const o=p.meal.price||0;return Math.round(o*(1-I.Ø±ÙˆØ²Ø§Ù†Ù‡)*_.value)}),M=F(()=>{const o=p.meal.price||0;return Object.entries(I).map(([a,t])=>({plan:a,discountPercent:t*100,priceAfterDiscount:Math.round(o*(1-t)*_.value)}))}),q=()=>{A.value=!0},B=()=>{A.value=!1},b=()=>{_.value++},D=()=>{_.value>1&&_.value--},H=Z,P=()=>{const o=p.meal.thumbnail_url??p.meal.image_url??(p.meal.image?`/${p.meal.image}`:"/images/placeholder.png");H("open-calendar",{basePrice:N.value,mealId:p.meal.id,mealTitle:p.meal.title,mealImage:o,quantity:_.value})},g=F(()=>{const o=Array.isArray(p.meal?.images)?p.meal.images.map(a=>{const t=a?.url;return t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/")?t:`/${t}`:null}).filter(Boolean):[];return o.length===0&&p.meal?.image_url?[p.meal.image_url]:o}),k=y(0),s=()=>{g.value.length>0&&(k.value=(k.value+1)%g.value.length)},d=()=>{g.value.length>0&&(k.value=(k.value-1+g.value.length)%g.value.length)},u=o=>{o>=0&&o<g.value.length&&(k.value=o)};return(o,a)=>(i(),m("div",ze,[e("div",Ee,[e("img",{src:l.meal.thumbnail_url??l.meal.image_url??(l.meal.image?`/${l.meal.image}`:"/images/placeholder.png"),alt:l.meal.title||"meal",class:"w-full object-cover rounded-t-2xl",style:{"aspect-ratio":"3 / 2"}},null,8,Je),l.meal.is_new?(i(),m("span",Fe," Ø¬Ø¯ÛŒØ¯ ")):T("",!0)]),e("div",Ne,[e("div",Be,[e("h3",Ve,h(l.meal.title),1),e("h3",We,h(l.meal.kcal)+" Ú©Ø§Ù„Ø±ÛŒ ",1)]),e("div",Re,[a[1]||(a[1]=e("span",{class:"text-sm text-gray-500"},"Ù‚ÛŒÙ…Øª:",-1)),e("span",qe,h(N.value.toLocaleString())+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",He,[e("div",Qe,[e("button",{onClick:D,disabled:_.value<=1,class:R([_.value>1?"bg-gray-200 text-gray-600 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed","w-8 h-8 rounded-full transition flex items-center justify-center"])},"-",10,Ye),e("span",Ue,h(_.value),1),e("button",{onClick:b,class:"w-8 h-8 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300 transition flex items-center justify-center"},"+")])]),e("div",{class:"flex justify-center gap-3"},[e("button",{onClick:q,class:"bg-yellow-100 text-yellow-700 border border-yellow-300 px-4 py-1 rounded-md text-sm hover:bg-yellow-200 transition cursor-pointer"}," Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ± "),e("button",{onClick:P,class:"px-4 py-2 rounded-md text-sm transition bg-green-500 text-white hover:bg-green-600 cursor-pointer"}," Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² ")])]),A.value?(i(),m("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:B},[e("div",{onClick:a[0]||(a[0]=he(()=>{},["stop"])),class:"bg-white rounded-xl shadow-xl w-full max-w-5xl max-h-[85vh] overflow-hidden border border-gray-200 flex"},[e("div",Ge,[e("div",Xe,[e("button",{onClick:B,class:"text-gray-500 hover:text-gray-700 text-2xl font-bold cursor-pointer"}," Ã— "),e("h2",Ke,h(l.meal.title),1)]),g.value.length>1?(i(),m("div",Ze,[e("img",{src:g.value[k.value],alt:l.meal.title||"meal",class:"w-full object-cover rounded-lg shadow-sm",style:{"aspect-ratio":"3 / 2"}},null,8,et),e("button",{onClick:d,class:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/40 text-white w-8 h-8 rounded-full flex items-center justify-center"},"â€¹"),e("button",{onClick:s,class:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/40 text-white w-8 h-8 rounded-full flex items-center justify-center"},"â€º"),e("div",tt,[(i(!0),m(V,null,W(g.value,(t,v)=>(i(),m("button",{key:v,onClick:x=>u(v),class:R([v===k.value?"bg-white":"bg-white/50","w-2.5 h-2.5 rounded-full"])},null,10,lt))),128))])])):(i(),m("img",{key:1,src:g.value[0]??l.meal.image_url??(l.meal.image?`/${l.meal.image}`:"/images/placeholder.png"),alt:l.meal.title||"meal",class:"w-full object-cover rounded-lg shadow-sm",style:{"aspect-ratio":"3 / 2"}},null,8,at)),e("div",st,[a[2]||(a[2]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØºØ°ÛŒÙ‡â€ŒØ§ÛŒ",-1)),e("div",rt,[(i(!0),m(V,null,W(l.meal.nutritional_informations,(t,v)=>(i(),m("div",{key:v,class:"flex justify-between"},[e("span",null,h(v),1),e("span",null,h(t),1)]))),128))])]),e("div",nt,[e("button",{onClick:D,disabled:_.value<=1,class:R([_.value>1?"bg-gray-200 text-gray-600 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed","w-8 h-8 rounded-full transition flex items-center justify-center"])},"-",10,ot),e("span",it,h(_.value),1),e("button",{onClick:b,class:"w-8 h-8 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300 transition flex items-center justify-center"},"+")]),e("button",{onClick:P,disabled:l.isAuthenticated,class:"w-full bg-green-500 text-white py-3 rounded-md text-sm font-medium hover:bg-green-600 transition disabled:bg-gray-300 disabled:cursor-not-allowed"}," Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² ",8,dt),e("div",ut,[a[3]||(a[3]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ù…Ø­ØªÙˆÛŒØ§Øª",-1)),e("ul",ct,[(i(!0),m(V,null,W(l.meal.ingredients,t=>(i(),m("li",{key:t.id},h(t.title),1))),128))])]),a[9]||(a[9]=e("div",{class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},[e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø­ØµÙˆÙ„"),e("ul",{class:"list-disc list-inside text-gray-600 text-sm"})],-1)),e("div",mt,[a[5]||(a[5]=e("h3",{class:"font-semibold text-gray-700 mb-4 text-center"},"Ù…ÙˆØ§Ø±Ø¯ Ù…ØµØ±Ù Ùˆ Ù…Ù†Ø¹ Ù…ØµØ±Ù",-1)),e("table",gt,[a[4]||(a[4]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"py-2 px-4 text-right font-medium w-1/2 border-l border-gray-300"},"Ù…ÙˆØ§Ø±Ø¯ Ù…ØµØ±Ù"),e("th",{class:"py-2 px-4 text-right font-medium w-1/2"},"Ù…ÙˆØ§Ø±Ø¯ Ù…Ù†Ø¹ Ù…ØµØ±Ù")])],-1)),e("tbody",null,[(i(!0),m(V,null,W(Math.max(l.meal.consumable_items.length,l.meal.contraindications.length),t=>(i(),m("tr",{key:t},[e("td",ft,h(l.meal.consumable_items[t-1]||"-"),1),e("td",xt,h(l.meal.contraindications[t-1]||"-"),1)]))),128))])])]),e("div",bt,[a[6]||(a[6]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"ðŸ’¡ ØªØ®ÙÛŒÙ Ù¾Ù„Ù†â€ŒÙ‡Ø§",-1)),e("ul",pt,[(i(!0),m(V,null,W(M.value,t=>(i(),m("li",{key:t.plan},h(t.plan)+": "+h(t.discountPercent)+"Ùª Ù‚ÛŒÙ…Øª Ù¾Ø³ Ø§Ø² ØªØ®ÙÛŒÙ: "+h(t.priceAfterDiscount.toLocaleString())+" ØªÙˆÙ…Ø§Ù† ",1))),128))])]),e("div",vt,[a[7]||(a[7]=e("h3",{class:"font-semibold text-gray-800 mb-3"},"Ù†Ø¸Ø±Ø§Øª Ø´Ù…Ø§",-1)),a[8]||(a[8]=e("div",{class:"flex mb-4 gap-2"},[e("input",{type:"text",placeholder:"ØªÙˆ Ù‡Ù… Ù†Ø¸Ø± Ø®ÙˆØ¯Øª Ø±Ùˆ Ø¨Ø²Ø§Ø±...",class:"flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),e("button",{class:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition"},"Ø§Ø±Ø³Ø§Ù„ Ù†Ø¸Ø±")],-1)),e("div",yt,[(i(!0),m(V,null,W(o.comments,(t,v)=>(i(),m("div",{key:v,class:"flex gap-3 bg-white p-3 rounded-lg border border-gray-200"},[e("div",ht,[e("div",wt,h(t.user.charAt(0)),1)]),e("div",kt,[e("span",_t,h(t.user),1),e("span",Dt,h(t.text),1)])]))),128))])])])])])):T("",!0)]))}};var ge,ye;function $t(){if(ye)return ge;ye=1,ge={toJalaali:Z,toGregorian:p,isValidJalaaliDate:A,isLeapJalaaliYear:_,jalaaliMonthLength:I,jalCal:M,j2d:q,d2j:B,g2d:b,d2g:D,jalaaliToDateObject:P,jalaaliWeek:H};var l=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Z(s,d,u){return Object.prototype.toString.call(s)==="[object Date]"&&(u=s.getDate(),d=s.getMonth()+1,s=s.getFullYear()),B(b(s,d,u))}function p(s,d,u){return D(q(s,d,u))}function A(s,d,u){return s>=-61&&s<=3177&&d>=1&&d<=12&&u>=1&&u<=I(s,d)}function _(s){return N(s)===0}function I(s,d){return d<=6?31:d<=11||_(s)?30:29}function N(s){var d=l.length,u=l[0],o,a,t,v,x;if(s<u||s>=l[d-1])throw new Error("Invalid Jalaali year "+s);for(x=1;x<d&&(o=l[x],a=o-u,!(s<o));x+=1)u=o;return v=s-u,a-v<6&&(v=v-a+g(a+4,33)*33),t=k(k(v+1,33)-1,4),t===-1&&(t=4),t}function M(s,d){var u=l.length,o=s+621,a=-14,t=l[0],v,x,L,G,Q,z,X;if(s<t||s>=l[u-1])throw new Error("Invalid Jalaali year "+s);for(X=1;X<u&&(v=l[X],x=v-t,!(s<v));X+=1)a=a+g(x,33)*8+g(k(x,33),4),t=v;return z=s-t,a=a+g(z,33)*8+g(k(z,33)+3,4),k(x,33)===4&&x-z===4&&(a+=1),G=g(o,4)-g((g(o,100)+1)*3,4)-150,Q=20+a-G,d?{gy:o,march:Q}:(x-z<6&&(z=z-x+g(x+4,33)*33),L=k(k(z+1,33)-1,4),L===-1&&(L=4),{leap:L,gy:o,march:Q})}function q(s,d,u){var o=M(s,!0);return b(o.gy,3,o.march)+(d-1)*31-g(d,7)*(d-7)+u-1}function B(s){var d=D(s).gy,u=d-621,o=M(u,!1),a=b(d,3,o.march),t,v,x;if(x=s-a,x>=0){if(x<=185)return v=1+g(x,31),t=k(x,31)+1,{jy:u,jm:v,jd:t};x-=186}else u-=1,x+=179,o.leap===1&&(x+=1);return v=7+g(x,30),t=k(x,30)+1,{jy:u,jm:v,jd:t}}function b(s,d,u){var o=g((s+g(d-8,6)+100100)*1461,4)+g(153*k(d+9,12)+2,5)+u-34840408;return o=o-g(g(s+100100+g(d-8,6),100)*3,4)+752,o}function D(s){var d,u,o,a,t;return d=4*s+139361631,d=d+g(g(4*s+183187720,146097)*3,4)*4-3908,u=g(k(d,1461),4)*5+308,o=g(k(u,153),5)+1,a=k(g(u,153),12)+1,t=g(d,1461)-100100+g(8-a,6),{gy:t,gm:a,gd:o}}function H(s,d,u){var o=P(s,d,u).getDay(),a=o==6?0:-(o+1),t=6+a;return{saturday:B(q(s,d,u+a)),friday:B(q(s,d,u+t))}}function P(s,d,u,o,a,t,v){var x=p(s,d,u);return new Date(x.gy,x.gm-1,x.gd,o||0,a||0,t||0,v||0)}function g(s,d){return~~(s/d)}function k(s,d){return s-~~(s/d)*d}return ge}var Ct=$t();const St={dir:"rtl",class:"relative"},Tt={key:0,class:"fixed top-20 md:top-70 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white px-4 py-3 md:px-6 md:py-4 rounded shadow-lg z-50 text-sm md:text-base"},It={key:0,class:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-white/30 z-50 p-4"},Mt={class:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-4 md:p-6 relative overflow-y-auto max-h-[90vh] flex flex-col md:flex-row gap-4 md:gap-6"},Pt={class:"flex-1 w-full md:flex-1"},Lt={class:"max-w-lg mx-auto mb-3 md:mb-4"},Ot={class:"grid grid-cols-7 gap-0.5 md:gap-1 text-xs font-bold text-gray-600 mb-1 md:mb-2 text-center"},At=["onClick"],zt={key:0,class:"absolute -top-1 md:-top-3 -right-0.5 md:-right-2 flex flex-col items-center"},Et={class:"text-[10px] md:text-[12px]"},Jt={class:"absolute bottom-0 left-0 w-full bg-gray-200 text-[8px] md:text-[10px] font-bold text-gray-800 text-center rounded-b-sm flex items-center justify-center h-3 md:h-auto py-0 md:py-0.5"},Ft={key:0,class:"leading-none"},Nt={key:1,class:"text-blue-500 text-[8px] md:text-[10px] leading-none"},Bt={key:0,class:"text-center text-xs md:text-sm text-gray-600 mb-2"},Vt={class:"w-full md:w-75 flex flex-col py-4 md:py-16 items-stretch"},Wt={class:"flex flex-col gap-2 md:gap-4 w-full"},Rt={class:"font-bold text-base md:text-lg text-center mb-1 md:mb-2"},qt={class:"flex justify-between w-full px-1 md:px-2 text-xs md:text-sm"},Ht={class:"ml-2 md:ml-6"},Qt={class:"flex justify-between w-full px-1 md:px-2 text-xs md:text-sm"},Yt={class:"ml-4 md:ml-10"},Ut={class:"flex justify-between w-full px-1 md:px-2 text-xs md:text-sm"},Gt={class:"ml-4 md:ml-10"},Xt={class:"flex justify-between w-full px-1 md:px-2 text-xs md:text-sm"},Kt={class:"ml-2 md:ml-6"},Zt={class:"flex justify-between w-full px-1 md:px-2 mt-3 md:mt-5 text-xs md:text-sm"},el={class:"ml-2 md:ml-6"},tl={__name:"Calender",props:{open:Boolean,basePrice:{type:Number,default:2e5},mealId:{type:String,default:"default"},mealTitle:{type:String,default:"Ù…Ø­ØµÙˆÙ„"},mealImage:{type:String,default:""},mealQuantity:{type:Number,default:1}},emits:["update:open","continue"],setup(l,{emit:Z}){const p=l,A=Z,_=F({get:()=>p.open,set:f=>A("update:open",f)}),I=y(!0),N=y(!1),M=F(()=>!I.value||N.value),q=["Ø´","ÛŒ","Ø¯","Ø³","Ú†","Ù¾","Ø¬"],B=F(()=>{const n=(new Date().getDay()+1)%7,S=[];for(let j=0;j<7;j++)S.push(q[(n+j)%7]);return S}),b=y([]),D=y([]),H=y(!1),P=y(!1),g=y(!1),k=Ae(),{items:s}=Te(k),d=F(()=>{const f=Object.create(null);for(const n of s.value)f[n.dateISO]=(f[n.dateISO]||0)+1;for(const n of b.value)f[n]=(f[n]||0)+1;return f}),u=y(0),o=y("daily"),a=y("---"),t=y(""),v=y(!1),x=F(()=>{const f=Math.round((u.value||0)*100);return(f>0?f:0).toLocaleString("fa-IR")+"Ùª"}),L=y(p.basePrice),G=y(0),Q=y(0),z=f=>f.toLocaleString("fa-IR"),X=F(()=>{switch(o.value){case"daily":return"bg-red-600";case"weekly":return"bg-green-600";case"monthly":return"bg-purple-600";default:return"bg-gray-500"}});function ie(){const f=[],n=new Date;let j=new Date(n);for(;f.length<28;){const J=(j.getDay()+1)%7,U=Ct.toJalaali(j.getFullYear(),j.getMonth()+1,j.getDate()),ee=j.toDateString()===n.toDateString();f.push({gDate:new Date(j),fullDate:j.toISOString().split("T")[0],jDate:U.jd,jMonth:U.jm,jYear:U.jy,isToday:ee,isSelected:!1,weekdaySatIndex:J}),j.setDate(j.getDate()+1)}const $=[];for(let J=0;J<28;J+=7)$.push(f.slice(J,J+7));D.value=$}function c(f){const n=f.weekdaySatIndex;return n===5||n===6}function r(f){const n=new Date,S=new Date;S.setDate(n.getDate()+1);const j=new Date;j.setDate(n.getDate()+2);const $=new Date(f.gDate);return $.toDateString()===n.toDateString()?"today":$.toDateString()===S.toDateString()?"tomorrow":$.toDateString()===j.toDateString()?"afterTomorrow":"other"}function w(f){const n=f.fullDate,S=r(f);if(S==="today"&&P.value||S==="tomorrow"&&g.value)return;const j=b.value.indexOf(n);j===-1?b.value.push(n):b.value.splice(j,1),D.value.forEach(O=>O.forEach(E=>E.isSelected=b.value.includes(E.fullDate)));let $=!1,J=!1,U=!1,ee="";for(const O of b.value){const E=D.value.flat().find(me=>me.fullDate===O);if(!E)continue;const K=r(E);K==="today"&&($=!0,ee=O),K==="tomorrow"&&(J=!0),K==="afterTomorrow"&&(U=!0)}J&&U?(P.value=!0,$&&ee&&(b.value=b.value.filter(O=>O!==ee))):P.value=!1;const re=new Date;re.setHours(0,0,0,0);const Ce=O=>{const E=new Date(O.gDate);return E.setHours(0,0,0,0),Math.round((E.getTime()-re.getTime())/(1440*60*1e3))};let be=!1,pe=!1,ve=!1,ce="";for(const O of b.value){const E=D.value.flat().find(me=>me.fullDate===O);if(!E)continue;const K=Ce(E);K===1&&(be=!0,ce=O),K===2&&(pe=!0),K>=3&&(ve=!0)}if(pe&&ve?(g.value=!0,be&&ce&&(b.value=b.value.filter(O=>O!==ce))):g.value=!1,b.value.length===1){const O=b.value[0],E=D.value.flat().find(K=>K.fullDate===O);H.value=!!E&&r(E)==="afterTomorrow"}else H.value=!1;Y()}function Y(){if(L.value=p.basePrice,G.value=0,Q.value=0,t.value="",v.value=u.value>0,b.value.length===0){o.value="daily",a.value="Ù‡ÛŒÚ† Ø±ÙˆØ²ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡";return}if(b.value.length===1){o.value="daily",a.value="Ø®Ø±ÛŒØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡",t.value="Ø¨Ø¯ÙˆÙ† ØªØ®ÙÛŒÙ",v.value=!1;const J=b.value.length,U=p.basePrice*(1-(u.value||0));L.value=Math.round(U),G.value=L.value,Q.value=L.value*J;return}const f=b.value.length,n=new Set;D.value.forEach((J,U)=>{J.filter(re=>b.value.includes(re.fullDate)).length>=1&&n.add(U)}),f>=8&&n.size===D.value.length?(o.value="monthly",a.value="Ø®Ø±ÛŒØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡",t.value="Û´Û°Ùª",v.value=!0):f>=3?(o.value="weekly",a.value="Ø®Ø±ÛŒØ¯ Ù‡ÙØªÚ¯ÛŒ",t.value="Û²Û°Ùª",v.value=!0):(o.value="daily",a.value="Ø®Ø±ÛŒØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡",t.value="Ø¨Ø¯ÙˆÙ† ØªØ®ÙÛŒÙ",v.value=!1);let S=0;o.value==="weekly"&&(S=.2),o.value==="monthly"&&(S=.4);const $=p.basePrice*(1-(u.value||0))*(1-S);L.value=Math.round($),G.value=L.value,Q.value=L.value*f}function se(f){return(d.value[f]||0).toLocaleString("fa-IR")}function le(f){const n=r(f);if(c(f))return"bg-gray-200 text-gray-400 border border-gray-300";if(P.value&&n==="today"||g.value&&n==="tomorrow")return"bg-gray-200 text-gray-400 border border-gray-300 cursor-not-allowed";if(f.isSelected)switch(o.value){case"daily":return"bg-red-500 text-white border-2 border-red-700";case"weekly":return"bg-green-500 text-white border-2 border-green-700";case"monthly":return"bg-purple-500 text-white border-2 border-purple-700";default:return"bg-blue-200 text-black border-2 border-blue-400"}return f.isToday?"border-2 border-blue-500 bg-blue-50 text-gray-800":"bg-white text-gray-800 cursor-pointer border border-gray-300 hover:bg-blue-100"}const xe=()=>I.value=window.scrollY<50,de=()=>{N.value=window.innerWidth<768};we(async()=>{ie(),window.addEventListener("scroll",xe),de(),window.addEventListener("resize",de);try{const{data:f}=await Ie.get("/api/me/subsidy"),n=Number(f?.percentage??0);u.value=!Number.isNaN(n)&&n>0?Math.min(Math.max(n,0),100)/100:0}catch{u.value=0}Y()}),Me(()=>{window.removeEventListener("scroll",xe),window.removeEventListener("resize",de)});const ue=y(!1);function $e(){b.value.length>0&&k.addSelections(p.mealId,p.mealTitle,b.value.slice(),L.value,p.mealImage,p.mealQuantity||1),b.value=[],D.value.forEach(f=>f.forEach(n=>n.isSelected=!1)),Y(),ue.value=!0,setTimeout(()=>ue.value=!1,3e3),_.value=!1}return fe(()=>p.mealId,()=>{b.value=[],D.value.forEach(f=>f.forEach(n=>n.isSelected=!1)),Y()}),fe(s,()=>Y()),(f,n)=>(i(),m("div",St,[e("button",{onClick:n[0]||(n[0]=S=>_.value=!0),class:R(["fixed top-1/2 transform -translate-y-1/2 transition-all duration-700 z-50 cursor-pointer shadow-lg flex items-center justify-center font-bold text-white left-0 md:left-0 mt-20",M.value?"px-3 py-1.5 md:px-4 md:py-2 rounded-r-xl text-xs md:text-sm opacity-70 bg-[#4e3356] hover:px-4 hover:py-2 hover:text-sm hover:opacity-100 md:hover:px-6 md:hover:py-3 md:hover:text-base":"px-4 py-2 md:px-6 md:py-3 rounded-r-xl text-sm md:text-base bg-[#4e3356]"])},[e("span",null,h(M.value?"ØªÙ‚ÙˆÛŒÙ… Ù…Ù†":"Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² Ø¯Ø± ØªÙ‚ÙˆÛŒÙ…"),1)],2),ke(_e,{name:"fade"},{default:oe(()=>[ue.value?(i(),m("div",Tt," Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± ØªÙ‚ÙˆÛŒÙ… Ø±Ø²Ø±Ùˆ Ø´Ø¯ ")):T("",!0)]),_:1}),_.value?(i(),m("div",It,[e("div",Mt,[e("button",{onClick:$e,class:"absolute top-2 right-2 md:right-3 text-gray-600 hover:text-black text-lg md:text-xl cursor-pointer z-10","aria-label":"Return"},n[1]||(n[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 md:h-6 md:w-6 inline",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M12 8l4 4-4 4m4-4H8"})],-1)])),e("div",Pt,[n[3]||(n[3]=e("h2",{class:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-black text-center"},"Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø¯Ø± ØªÙ‚ÙˆÛŒÙ… Ú©Ø§Ø±ÛŒ",-1)),e("div",Lt,[e("div",Ot,[(i(!0),m(V,null,W(B.value,S=>(i(),m("div",{key:S,class:"py-1"},h(S),1))),128))]),(i(!0),m(V,null,W(D.value,(S,j)=>(i(),m("div",{key:j,class:"grid grid-cols-7 gap-1 md:gap-2 mb-6 md:mb-9"},[(i(!0),m(V,null,W(S,$=>(i(),m("div",{key:$.fullDate,onClick:()=>!c($)&&w($),class:R([le($),"w-10 h-10 md:w-14 md:h-14 rounded-sm relative transition-colors select-none cursor-pointer group"])},[c($)?T("",!0):(i(),m("div",zt,[e("div",Et,h(se($.fullDate)),1),n[2]||(n[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 md:w-6 md:h-6 text-black drop-shadow-sm"},[e("path",{"fill-rule":"evenodd",d:"M2.25 2.25a.75.75 0 000 1.5h1.636l1.808 8.138a2.25 2.25 0 002.202 1.762h9.743a2.25 2.25 0 002.15-1.61l1.605-5.743A.75.75 0 0021 5.25H6.832l-.3-1.35A2.25 2.25 0 004.5 2.25H2.25zm16.5 18a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm-9 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z","clip-rule":"evenodd"})],-1))])),c($)?T("",!0):(i(),m("div",{key:1,class:R(["absolute inset-0 flex items-center justify-end ml-1 text-xs md:text-sm font-bold transition-colors",$.isSelected?"text-white":"text-red-600"])}," 0 ",2)),e("div",Jt,[$.isToday?(i(),m("span",Nt,"Ø§Ù…Ø±ÙˆØ²")):(i(),m("span",Ft,h($.jDate),1))])],10,At))),128))]))),128))]),b.value.length>0?(i(),m("div",Bt," Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡: "+h(b.value.length)+" Ø±ÙˆØ² ",1)):T("",!0)]),e("div",Vt,[e("div",{class:R(["h-64 md:h-[350px] rounded-xl p-3 md:p-4 text-white flex flex-col items-center justify-center text-center transition-all duration-500",X.value])},[e("div",Wt,[e("div",Rt,h(a.value),1),e("div",qt,[n[4]||(n[4]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„:",-1)),e("div",Ht,h(z(p.basePrice))+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",Qt,[n[5]||(n[5]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª:",-1)),e("div",Yt,h(x.value),1)]),e("div",Ut,[n[6]||(n[6]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"ØªØ®ÙÛŒÙ:",-1)),e("div",Gt,h(o.value==="daily"?"Û°Ùª":t.value),1)]),e("div",Xt,[n[7]||(n[7]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"Ø¬Ù…Ø¹:",-1)),e("div",Kt,h(z(G.value))+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",Zt,[n[8]||(n[8]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª:",-1)),e("div",el,h(z(Q.value))+" ØªÙˆÙ…Ø§Ù†",1)])])],2),n[9]||(n[9]=e("button",{class:"mt-4 md:mt-5 h-10 md:h-12 bg-gray-200 text-black rounded-lg font-bold hover:bg-orange-300 transition-colors cursor-pointer text-sm md:text-base"}," Ø§Ø¯Ø§Ù…Ù‡ Ø®Ø±ÛŒØ¯ ",-1))])])])):T("",!0)]))}},ll={__name:"UserIntroductionModal",setup(l){const p=De().props.auth?.user||null,A=y(!1),_=`menu_intro_seen_${p?.id}`;we(()=>{if(!p)return;localStorage.getItem(_)||setTimeout(()=>{A.value=!0},500)});const I=()=>{A.value=!1,localStorage.setItem(_,"true")};return(N,M)=>(i(),te(_e,{name:"modal"},{default:oe(()=>[A.value?(i(),m("div",{key:0,class:"fixed inset-0 flex items-center justify-center z-[100] backdrop-blur-md bg-black/30",onClick:he(I,["self"])},[e("div",{class:"bg-white rounded-2xl shadow-2xl max-w-2xl w-11/12 max-h-[90vh] overflow-y-auto p-4 md:p-8 relative transform transition-all",dir:"rtl"},[e("button",{onClick:I,class:"absolute top-2 left-2 md:left-4 text-gray-500 hover:text-gray-700 text-xl md:text-2xl font-bold cursor-pointer z-10","aria-label":"Ø¨Ø³ØªÙ†"}," Ã— "),M[0]||(M[0]=e("div",{class:"text-center mb-4 md:mb-6"},[e("h2",{class:"text-2xl md:text-3xl font-bold text-gray-800 mb-2"},"Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!"),e("p",{class:"text-gray-600 text-sm md:text-base"},"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³ÛŒØ³ØªÙ…")],-1)),M[1]||(M[1]=e("div",{class:"space-y-4 md:space-y-6"},[e("div",{class:"bg-blue-50 rounded-lg p-4 md:p-6 border-r-4 border-blue-500"},[e("h3",{class:"text-lg md:text-xl font-bold text-blue-700 mb-3 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 md:h-6 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),C(" Ù…Ù†ÙˆÛŒ ØªØºØ°ÛŒÙ‡ Ø§ÛŒÙˆØ§ ")]),e("p",{class:"text-gray-700 leading-relaxed text-sm md:text-base"}," Ø¯Ø± ØµÙØ­Ù‡ Ù…Ø­ØµÙˆÙ„Ø§ØªØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯: "),e("ul",{class:"mt-3 space-y-2 text-gray-700 list-disc list-inside text-sm md:text-base"},[e("li",null,[e("strong",null,"Ù‡Ù…Ù‡:"),C(" Ù†Ù…Ø§ÛŒØ´ ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª.")]),e("li",null,[e("strong",null,"Ù„Ø§ÛŒÙ† ØºØ°Ø§ÛŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ:"),C(" ØºØ°Ø§Ù‡Ø§ÛŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø³Ù„Ø§Ù…Øª Ù…Ø­ÙˆØ±.")]),e("li",null,[e("strong",null,"Ù¾Ú© Ù…ÛŒØ§Ù†ÙˆØ¹Ø¯Ù‡:"),C(" Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§ÛŒ ØªØºØ°ÛŒÙ‡ Ø³Ø§Ù„Ù… Ù…ÛŒØ§Ù†ÙˆØ¹Ø¯Ù‡.")]),e("li",null,[e("strong",null,"Ø³Ø§Ù„Ø§Ø¯:"),C(" Ø§Ù†ÙˆØ§Ø¹ Ø³Ø§Ù„Ø§Ø¯Ù‡Ø§")]),e("li",null,[e("strong",null,"Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†:"),C(" Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†â€ŒÙ‡Ø§")]),e("li",null,[e("strong",null,"Ú©ÛŒÚ© Ùˆ Ù†Ø§Ù†:"),C(" Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©ÛŒÚ© Ùˆ Ù†Ø§Ù†")]),e("li",null,[e("strong",null,"Ø¯Ù…Ù†ÙˆØ´ Ùˆ Ù‚Ù‡ÙˆÙ‡:"),C(" Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ù…")]),e("li",null,[e("strong",null,"Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ:"),C(" Ø³Ø§ÛŒØ± Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§")]),e("li",null,[e("strong",null,"Ø§ÙˆØªÙ…ÛŒÙ„:"),C(" Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÙˆØªÙ…ÛŒÙ„")]),e("li",null,[e("strong",null,"ØµØ¨Ø­Ø§Ù†Ù‡:"),C(" ÙˆØ¹Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ØµØ¨Ø­Ø§Ù†Ù‡")]),e("li",null,[e("strong",null,"Ø¯Ø³Ø±â€ŒÙ‡Ø§:"),C(" Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø³Ø±")])]),e("p",{class:"mt-3 text-sm text-gray-600 text-xs md:text-sm"}," Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù‡Ø± Ú¯Ø±ÙˆÙ‡ ÙÛŒÙ„ØªØ±ØŒ ÙÙ‚Ø· Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¢Ù† Ø¯Ø³ØªÙ‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. ")]),e("div",{class:"bg-green-50 rounded-lg p-4 md:p-6 border-r-4 border-green-500"},[e("h3",{class:"text-lg md:text-xl font-bold text-green-700 mb-3 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 md:h-6 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),C(" Ø§Ø¹Ø¯Ø§Ø¯ Ø±ÙˆÛŒ ØªÙ‚ÙˆÛŒÙ… ")]),e("p",{class:"text-gray-700 leading-relaxed text-sm md:text-base mb-3 md:mb-4"}," Ø±ÙˆÛŒ Ù‡Ø± Ø±ÙˆØ² Ø¯Ø± ØªÙ‚ÙˆÛŒÙ…ØŒ ÛŒÚ© Ø¹Ø¯Ø¯ Ø¯Ø± Ø¨Ø§Ù„Ø§ÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. "),e("div",{class:"mt-3 bg-white rounded p-3 md:p-4 border border-green-200"},[e("div",{class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},[e("div",{class:"flex-1 text-right"},[e("p",{class:"text-gray-700 font-medium mb-2 text-sm md:text-base"},"Ø§ÛŒÙ† Ø¹Ø¯Ø¯ Ù†Ø´Ø§Ù†Ú¯Ø±:"),e("p",{class:"text-gray-700 text-sm md:text-base"},[e("strong",null,"ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­ØµÙˆÙ„Ø§ØªÛŒ Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ø±Ø§ÛŒ Ø¢Ù† Ø±ÙˆØ² Ø¯Ø± Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.")]),e("i",null,[e("p",{class:"text-sm text-gray-900 mt-2 text-xs md:text-sm"}," Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ØŒ Ø§Ú¯Ø± Ø¹Ø¯Ø¯ Û² Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯ØŒ ÛŒØ¹Ù†ÛŒ Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Û² Ù…Ø­ØµÙˆÙ„ Ø¨Ø±Ø§ÛŒ Ø¢Ù† Ø±ÙˆØ² Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯. ")])]),e("div",{class:"shrink-0 mt-2 md:mt-0"},[e("img",{src:"/images/day.png",alt:"Ø±ÙˆØ²",class:"w-32 md:w-38 h-auto"})])])]),e("p",{class:"text-gray-700 leading-relaxed text-sm md:text-base mt-4 md:mt-6"}," ÙˆØ³Ø· Ù‡Ø± Ø±ÙˆØ² Ø¯Ø± ØªÙ‚ÙˆÛŒÙ…ØŒ ÛŒÚ© Ø¹Ø¯Ø¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. "),e("div",{class:"mt-3 bg-white rounded p-3 md:p-4 border border-green-200"},[e("div",{class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},[e("div",{class:"flex-1 text-right"},[e("p",{class:"text-gray-700 font-medium mb-2 text-sm md:text-base"},"Ø§ÛŒÙ† Ø¹Ø¯Ø¯ Ù†Ø´Ø§Ù†Ú¯Ø±:"),e("p",{class:"text-gray-700 text-sm md:text-base"},[e("strong",null,"ØªØ¹Ø¯Ø§Ø¯ Ù‡Ù…Ú©Ø§Ø±Ø§Ù† Ø´Ø±Ú©Øª Ø´Ù…Ø§ Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ† Ø±ÙˆØ² Ù…Ø­ØµÙˆÙ„ÛŒ Ø±Ø§ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯.")]),e("i",null,[e("p",{class:"text-sm text-gray-900 mt-2 text-xs md:text-sm"}," Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ØŒ Ø§Ú¯Ø± Ø¹Ø¯Ø¯ Û²Ûµ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯ØŒ ÛŒØ¹Ù†ÛŒ Û²Ûµ Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ø´Ø±Ú©Øª Ø´Ù…Ø§ Ø¯Ø± Ø§ÛŒÙ† Ø±ÙˆØ² Ù…Ø­ØµÙˆÙ„ÛŒ Ø±Ø§ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯. ")])]),e("div",{class:"shrink-0 mt-2 md:mt-0"},[e("img",{src:"/images/day-center.png",alt:"Ø±ÙˆØ² - Ù…Ø±Ú©Ø²",class:"w-32 md:w-38 h-auto"})])])])]),e("div",{class:"bg-purple-50 rounded-lg p-4 md:p-6 border-r-4 border-purple-500"},[e("h3",{class:"text-lg md:text-xl font-bold text-purple-700 mb-3 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 md:h-6 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),C(" Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‚ÛŒÙ…Øª Ú©Ù„ ")]),e("p",{class:"text-gray-700 leading-relaxed mb-3 md:mb-4 text-sm md:text-base"}," Ù‚ÛŒÙ…Øª Ú©Ù„ Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ¹Ø¯Ø§Ø¯ Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ùˆ Ù†ÙˆØ¹ Ù¾Ù„Ù† Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯: "),e("div",{class:"space-y-3"},[e("div",{class:"bg-white rounded p-3 md:p-4 border border-purple-200"},[e("h4",{class:"font-bold text-red-600 mb-2 text-sm md:text-base"},"Ø®Ø±ÛŒØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡ (Ø§Ù†ØªØ®Ø§Ø¨ Û± ÛŒØ§ Û² Ø±ÙˆØ²)"),e("p",{class:"text-sm text-gray-700 text-xs md:text-sm"}," Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Û± ÛŒØ§ Û² Ø±ÙˆØ²ØŒ ØªØ®ÙÛŒÙ Ùˆ Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ ØªØ¹Ù„Ù‚ Ù†Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯. ")]),e("div",{class:"bg-white rounded p-3 md:p-4 border border-purple-200"},[e("h4",{class:"font-bold text-green-600 mb-2 text-sm md:text-base"},"Ø®Ø±ÛŒØ¯ Ù‡ÙØªÚ¯ÛŒ (Û³ Ø±ÙˆØ² ÛŒØ§ Ø¨ÛŒØ´ØªØ±)"),e("p",{class:"text-sm text-gray-700 text-xs md:text-sm"},[C(" Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Û³ Ø±ÙˆØ² ÛŒØ§ Ø¨ÛŒØ´ØªØ±ØŒ "),e("strong",null,"Û²Û°Ùª ØªØ®ÙÛŒÙ"),C(" Ùˆ "),e("strong",null,"Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª"),C(" Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ ØªØ¹Ù„Ù‚ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯. ")])]),e("div",{class:"bg-white rounded p-3 md:p-4 border border-purple-200"},[e("h4",{class:"font-bold text-purple-600 mb-2 text-sm md:text-base"}," Ø®Ø±ÛŒØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡ (Ø­Ø¯Ø§Ù‚Ù„ Û¸ Ø±ÙˆØ² Ø¯Ø± Û´ Ù‡ÙØªÙ‡ Ù…ØªÙˆØ§Ù„ÛŒ) "),e("p",{class:"text-sm text-gray-700 text-xs md:text-sm"},[C(" Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Û¸ Ø±ÙˆØ² ÛŒØ§ Ø¨ÛŒØ´ØªØ±ØŒ "),e("strong",null,"Û´Û°Ùª ØªØ®ÙÛŒÙ"),C(" Ùˆ "),e("strong",null,"Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª"),C(" Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ ØªØ¹Ù„Ù‚ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯. ")])])]),e("div",{class:"mt-4 bg-white rounded p-3 md:p-4 border border-purple-200"},[e("p",{class:"text-gray-700 font-medium mb-2 text-sm md:text-base"},"ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:"),e("p",{class:"text-sm md:text-base"},"Ù‚ÛŒÙ…Øª Ù…ØµØ±Ùâ€ŒÚ©Ù†Ù†Ø¯Ù‡ - Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª - ØªØ®ÙÛŒÙ Ù¾Ù„Ù† (Ù‡ÙØªÚ¯ÛŒ/ Ù…Ø§Ù‡Ø§Ù†Ù‡) + Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„")])])],-1)),e("div",{class:"mt-6 md:mt-8 flex justify-center"},[e("button",{onClick:I,class:"px-6 md:px-8 py-3 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600 transition-colors cursor-pointer shadow-md hover:shadow-lg text-sm md:text-base"}," ÙÙ‡Ù…ÛŒØ¯Ù…ØŒ Ù…ØªØ´Ú©Ø±Ù… ")])])])):T("",!0)]),_:1}))}},al=je(ll,[["__scopeId","data-v-bfed1a72"]]),sl=["href"],rl=["content"],nl=["content"],ol=["content"],il={class:"container mx-auto px-6 mb-8"},dl=["onClick"],ul=["src","alt"],cl={key:0,class:"text-center py-8"},ml={key:1,class:"container mx-auto px-6"},gl={key:0,class:"text-center py-12"},fl={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 mb-8"},xl={key:2,class:"mt-10 flex justify-center items-center gap-2 flex-wrap mb-8"},bl={key:2,class:"px-2 text-gray-500"},pl=["onClick"],vl={key:3,class:"px-2 text-gray-500"},yl={__name:"Index",props:{meals:Object,pagination:Object,filters:Object},setup(l){const Z=Pe("cartIsOpen",y(!1)),p=F(()=>Z.value),A=F(()=>typeof window<"u"?window.location.href:""),_=F(()=>typeof window<"u"?`${window.location.origin}/images/icon.png`:""),I=y(!1);fe(p,c=>{c&&I.value&&(I.value=!1)});const N=y(0),M=y(""),q=y(""),B=y(""),b=y(1),D=y(!1),H=y("Ù‡Ù…Ù‡"),P=y(!1),g=y(0),k=y(0),d=De().props.auth?.user||null,u=l,o=[{title:"Ù‡Ù…Ù‡",type:"category"},{title:"Ù„Ø§ÛŒÙ† ØºØ°Ø§ÛŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ",image:"/images/food-categories/eco.png",type:"category"},{title:"Ù¾Ú© Ù…ÛŒØ§Ù†ÙˆØ¹Ø¯Ù‡",image:"/images/food-types/package.png",type:"category"},{title:"Ø³Ø§Ù„Ø§Ø¯",image:"/images/food-types/salad.png",type:"category"},{title:"Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†",image:"/images/food-types/sandwich.png",type:"category"},{title:"Ú©ÛŒÚ© Ùˆ Ù†Ø§Ù†",image:"/images/food-types/cake.png",type:"category"},{title:"Ø¯Ù…Ù†ÙˆØ´ Ùˆ Ù‚Ù‡ÙˆÙ‡",image:"/images/food-types/coffee.png",type:"category"},{title:"Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ",image:"/images/food-types/drinks.png",type:"category"},{title:"Ø§ÙˆØªÙ…ÛŒÙ„",image:"/images/food-types/ot-meal.png",type:"category"},{title:"ØµØ¨Ø­Ø§Ù†Ù‡",image:"/images/food-types/breakfast.png",type:"category"},{title:"Ø¯Ø³Ø±â€ŒÙ‡Ø§",image:"/images/food-types/dessert.png",type:"category"}],a=F(()=>{if(!u.pagination)return[];const c=u.pagination.last_page,r=u.pagination.current_page;let w=Math.max(r-1,1),Y=Math.min(r+1,c);r<=3&&(Y=Math.min(5,c)),r>=c-2&&(w=Math.max(c-4,1));const se=[];for(let le=w;le<=Y;le++)se.push(le);return se}),t=c=>{D.value=!0,H.value=c.title;const r=new URLSearchParams;c.type==="category"&&c.title!=="Ù‡Ù…Ù‡"&&r.append("category",c.title),ae.get(`/menu?${r.toString()}`,{},{preserveState:!0,replace:!0,onFinish:()=>D.value=!1})},v=()=>{D.value=!0,H.value="Ù‡Ù…Ù‡",ae.get("/menu",{},{preserveState:!0,replace:!0,onFinish:()=>D.value=!1})},x=c=>{D.value=!0;const r=new URLSearchParams;u.filters?.category&&u.filters.category!=="Ù‡Ù…Ù‡"&&r.append("category",u.filters.category),u.filters?.type&&r.append("type",u.filters.type),r.append("page",c),ae.get(`/menu?${r.toString()}`,{},{preserveState:!0,replace:!0,onFinish:()=>D.value=!1})},L=c=>ae.post("/cart",{meal_id:c.id,quantity:1}),G=c=>ae.get(`/meals/${c.id}`);function Q(c){const r=c&&typeof c=="object"&&"basePrice"in c?Number(c.basePrice):Number(c);N.value=isNaN(r)?0:r,c&&typeof c=="object"&&("mealId"in c&&(M.value=String(c.mealId)),"mealTitle"in c&&(q.value=c.mealTitle||""),"mealImage"in c&&(B.value=c.mealImage||""),"quantity"in c&&(b.value=Number(c.quantity)||1)),I.value=!0}const z=c=>{P.value=!0,g.value=c.pageX-c.currentTarget.offsetLeft,k.value=c.currentTarget.scrollLeft},X=()=>P.value=!1,ie=c=>{if(!P.value)return;c.preventDefault();const w=c.pageX-c.currentTarget.offsetLeft-g.value;c.currentTarget.scrollLeft=k.value-w};return(c,r)=>(i(),te(Se,null,{default:oe(()=>[ke(ne(Le),null,{default:oe(()=>[r[5]||(r[5]=e("title",null,"Ù…Ù†ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§",-1)),r[6]||(r[6]=e("meta",{name:"description",content:"Ù…Ù†ÙˆÛŒ Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ Ø´Ø§Ù…Ù„ Ø§Ù†ÙˆØ§Ø¹ ØºØ°Ø§Ù‡Ø§ÛŒ Ø³Ø§Ù„Ù…ØŒ Ø³Ø§Ù„Ø§Ø¯ØŒ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†ØŒ ØµØ¨Ø­Ø§Ù†Ù‡ØŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ùˆ Ø¯Ø³Ø±. Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚ÛŒÙ…Øª Ùˆ Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ†."},null,-1)),r[7]||(r[7]=e("meta",{name:"keywords",content:"Ù…Ù†ÙˆÛŒ Ø§ÛŒÙˆØ§, Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§, Ø³ÙØ§Ø±Ø´ ØºØ°Ø§, ØºØ°Ø§ÛŒ Ø³Ø§Ù„Ù…, Ø³Ø§Ù„Ø§Ø¯, Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†, ØµØ¨Ø­Ø§Ù†Ù‡, Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ"},null,-1)),e("link",{rel:"canonical",href:A.value},null,8,sl),r[8]||(r[8]=e("meta",{property:"og:title",content:"Ù…Ù†ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§"},null,-1)),r[9]||(r[9]=e("meta",{property:"og:description",content:"Ù…Ù†ÙˆÛŒ Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ Ø´Ø§Ù…Ù„ Ø§Ù†ÙˆØ§Ø¹ ØºØ°Ø§Ù‡Ø§ÛŒ Ø³Ø§Ù„Ù…ØŒ Ø³Ø§Ù„Ø§Ø¯ØŒ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†ØŒ ØµØ¨Ø­Ø§Ù†Ù‡ØŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ùˆ Ø¯Ø³Ø±."},null,-1)),r[10]||(r[10]=e("meta",{property:"og:type",content:"website"},null,-1)),e("meta",{property:"og:url",content:A.value},null,8,rl),e("meta",{property:"og:image",content:_.value},null,8,nl),r[11]||(r[11]=e("meta",{name:"twitter:card",content:"summary_large_image"},null,-1)),r[12]||(r[12]=e("meta",{name:"twitter:title",content:"Ù…Ù†ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§"},null,-1)),r[13]||(r[13]=e("meta",{name:"twitter:description",content:"Ù…Ù†ÙˆÛŒ Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ Ø´Ø§Ù…Ù„ Ø§Ù†ÙˆØ§Ø¹ ØºØ°Ø§Ù‡Ø§ÛŒ Ø³Ø§Ù„Ù…ØŒ Ø³Ø§Ù„Ø§Ø¯ØŒ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†ØŒ ØµØ¨Ø­Ø§Ù†Ù‡ØŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ùˆ Ø¯Ø³Ø±."},null,-1)),e("meta",{name:"twitter:image",content:_.value},null,8,ol)]),_:1,__:[5,6,7,8,9,10,11,12,13]}),r[16]||(r[16]=e("h1",{class:"text-3xl font-bold text-center text-gray-800 my-10"},"Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§",-1)),e("div",il,[e("div",{class:"overflow-x-auto py-2 no-scrollbar",ref:"scrollContainer",onMousedown:z,onMouseup:X,onMouseleave:X,onMousemove:ie},[e("div",{class:R(["flex gap-3 w-max cursor-grab",{"cursor-grabbing":P.value}])},[(i(),m(V,null,W(o,w=>e("button",{key:w.title,onClick:Y=>t(w),class:R(["flex items-center gap-2 flex-shrink-0 px-4 py-2 rounded-full border text-sm transition",H.value===w.title?"bg-blue-500 text-white border-blue-500":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"])},[w.image?(i(),m("img",{key:0,class:"w-5 h-5 object-contain",src:w.image,alt:w.title},null,8,ul)):T("",!0),e("span",null,h(w.title),1)],10,dl)),64))],2)],544)]),D.value?(i(),m("div",cl,r[14]||(r[14]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...",-1)]))):(i(),m("div",ml,[l.meals.data.length===0?(i(),m("div",gl,[r[15]||(r[15]=e("p",{class:"text-gray-500 text-lg"},"Ù…Ø­ØµÙˆÙ„ÛŒ Ø¨Ø§ ÙÛŒÙ„ØªØ± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯.",-1)),e("button",{onClick:v,class:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition cursor-pointer"}," Ø­Ø°Ù ÙÛŒÙ„ØªØ±Ù‡Ø§ ")])):(i(),m("div",fl,[(i(!0),m(V,null,W(l.meals.data,w=>(i(),te(jt,{key:w.id,meal:w,onAddToCart:L,onOpenCalendar:Q,onViewDetails:G},null,8,["meal"]))),128))])),l.meals.data.length>0&&l.pagination.last_page>1?(i(),m("div",xl,[l.pagination.current_page>1?(i(),m("button",{key:0,onClick:r[0]||(r[0]=w=>x(l.pagination.current_page-1)),class:"px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-100 transition cursor-pointer"}," Ù‚Ø¨Ù„ÛŒ ")):T("",!0),l.pagination.current_page>3&&!a.value.includes(1)?(i(),m("button",{key:1,onClick:r[1]||(r[1]=w=>x(1)),class:R(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",l.pagination.current_page===1?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])}," 1 ",2)):T("",!0),l.pagination.current_page>4?(i(),m("span",bl,"...")):T("",!0),(i(!0),m(V,null,W(a.value,w=>(i(),m("button",{key:w,onClick:Y=>x(w),class:R(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",w===l.pagination.current_page?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])},h(w),11,pl))),128)),l.pagination.current_page<l.pagination.last_page-3?(i(),m("span",vl,"...")):T("",!0),l.pagination.current_page<l.pagination.last_page-2&&!a.value.includes(l.pagination.last_page)?(i(),m("button",{key:4,onClick:r[2]||(r[2]=w=>x(l.pagination.last_page)),class:R(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",l.pagination.last_page===l.pagination.current_page?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])},h(l.pagination.last_page),3)):T("",!0),l.pagination.current_page<l.pagination.last_page?(i(),m("button",{key:5,onClick:r[3]||(r[3]=w=>x(l.pagination.current_page+1)),class:"px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-100 transition cursor-pointer"}," Ø¨Ø¹Ø¯ÛŒ ")):T("",!0)])):T("",!0)])),ne(d)&&!p.value?(i(),te(Oe,{key:2})):T("",!0),ne(d)&&!p.value?(i(),te(tl,{key:3,open:I.value,"onUpdate:open":r[4]||(r[4]=w=>I.value=w),basePrice:N.value,mealId:M.value,mealTitle:q.value,mealImage:B.value,mealQuantity:b.value},null,8,["open","basePrice","mealId","mealTitle","mealImage","mealQuantity"])):T("",!0),ne(d)?(i(),te(al,{key:4})):T("",!0)]),_:1,__:[16]}))}},jl=je(yl,[["__scopeId","data-v-4d9c0372"]]);export{jl as default};
