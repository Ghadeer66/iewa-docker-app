import{r as b,c as v,o as a,w as x,a as e,b as f,d as r,e as o,F as n,f as u,t as m,m as y,v as _,l as h,k as w,g as p}from"./app-BnVi0Q4X.js";import{_ as k}from"./AdminAppLayout-C0DFv3oZ.js";const M={class:"grid grid-cols-2 gap-4 mb-4"},V=["value"],B={class:"flex items-center text-white mb-4"},C={class:"bg-gray-800 p-4 rounded"},I={class:"w-full text-right"},A={class:"p-2"},S={class:"p-2"},U=["src"],j={class:"p-2"},D=["onClick"],N={__name:"MealsImages",props:{mealImages:Array,meals:Array},setup(i){const l=b({meal_id:"",image_path:"",is_primary:!1});function g(){p.post(route("admin.meals-images.store"),l.value),l.value={meal_id:"",image_path:"",is_primary:!1}}function c(d){confirm("آیا از حذف این تصویر مطمئن هستید؟")&&p.delete(route("admin.meals-images.destroy",d))}return(d,t)=>(a(),v(k,null,{default:x(()=>[e("div",null,[t[8]||(t[8]=e("h2",{class:"text-xl font-bold mb-6 text-yellow-400"},"مدیریت تصاویر غذاها",-1)),e("form",{onSubmit:f(g,["prevent"]),class:"bg-gray-800 p-4 rounded mb-6"},[e("div",M,[r(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.meal_id=s),class:"p-2 bg-gray-700 rounded text-white"},[t[3]||(t[3]=e("option",{value:""},"انتخاب غذا",-1)),(a(!0),o(n,null,u(i.meals,s=>(a(),o("option",{key:s.id,value:s.id},m(s.name),9,V))),128))],512),[[y,l.value.meal_id]]),r(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.image_path=s),placeholder:"مسیر تصویر",class:"p-2 bg-gray-700 rounded text-white"},null,512),[[_,l.value.image_path]])]),e("label",B,[r(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.is_primary=s),type:"checkbox",class:"ml-2"},null,512),[[w,l.value.is_primary]]),t[4]||(t[4]=h(" تصویر اصلی ",-1))]),t[5]||(t[5]=e("button",{class:"bg-yellow-500 text-gray-900 px-4 py-2 rounded font-bold"},"افزودن تصویر",-1))],32),e("div",C,[e("table",I,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"border-b text-white border-gray-700"},[e("th",{class:"p-2"},"غذا"),e("th",{class:"p-2"},"تصویر"),e("th",{class:"p-2"},"عملیات")])],-1)),e("tbody",null,[(a(!0),o(n,null,u(i.mealImages,s=>(a(),o("tr",{key:s.id,class:"border-b border-gray-700 text-white"},[e("td",A,m(s.meal?.title),1),e("td",S,[e("img",{src:s.image?.url,class:"w-16 h-16 object-cover rounded"},null,8,U)]),e("td",j,[e("button",{onClick:F=>c(s.id),class:"text-red-400 hover:text-red-600"},t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4a2 2 0 012 2v0H8V5a2 2 0 012-2z"})],-1)]),8,D)])]))),128))])])])])]),_:1}))}};export{N as default};
