import{_ as X}from"./AppLayout-DhSTwVkW.js";import{r as P,y as F,e as n,o as r,q as V,j as C,w as R,T as K,F as B,f as N,n as q,a as e,t as D,G as W,b as Z,A as ee,B as te,H as ae,u as E,c as se,g as G}from"./app-BnVi0Q4X.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as le}from"./RulesButton-DUOUiybg.js";import"./Footer-COK0tRGE.js";const re={class:"relative rounded-xl overflow-hidden bg-gray-100"},oe=["src","alt"],ne={key:2,class:"absolute bottom-3 left-1/2 -translate-x-1/2 flex space-x-2"},ie=["onClick"],de={key:3,class:"absolute top-3 left-3 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow"},ce={__name:"MealSlideshow",props:{images:{type:Array,required:!0},title:{type:String,default:""},isNew:{type:Boolean,default:!1}},setup(d){const T=d,x=P(0),A=F(()=>T.images[x.value]),h=()=>{x.value=(x.value+1)%T.images.length},I=()=>{x.value=(x.value-1+T.images.length)%T.images.length};return(J,_)=>(r(),n("div",re,[V(K,{name:"fade",mode:"out-in"},{default:R(()=>[(r(),n("img",{key:x.value,src:A.value,alt:d.title,class:"w-full h-64 object-cover"},null,8,oe))]),_:1}),d.images.length>1?(r(),n("button",{key:0,onClick:I,class:"absolute top-1/2 left-3 -translate-y-1/2 bg-white/70 rounded-full px-2 py-1 shadow hover:bg-white transition"}," ‹ ")):C("",!0),d.images.length>1?(r(),n("button",{key:1,onClick:h,class:"absolute top-1/2 right-3 -translate-y-1/2 bg-white/70 rounded-full px-2 py-1 shadow hover:bg-white transition"}," › ")):C("",!0),d.images.length>1?(r(),n("div",ne,[(r(!0),n(B,null,N(d.images,(S,f)=>(r(),n("span",{key:f,onClick:j=>x.value=f,class:q(["w-2.5 h-2.5 rounded-full cursor-pointer transition",x.value===f?"bg-green-600 scale-125":"bg-gray-300 hover:bg-gray-400"])},null,10,ie))),128))])):C("",!0),d.isNew?(r(),n("span",de," جدید ")):C("",!0)]))}},ue=Q(ce,[["__scopeId","data-v-1e35ff02"]]),ge={class:"meal-card bg-white rounded-2xl shadow-md hover:shadow-lg transition overflow-hidden border border-gray-100 flex flex-col relative"},fe={class:"relative w-full bg-gray-100"},pe=["src","alt"],ve={key:0,class:"absolute top-3 left-3 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow"},xe={class:"p-4 flex flex-col flex-grow"},me={class:"container w-auto gap-5 flex flex-nowrap justify-between items-center rounded-2xl bg-orange-100 py-2 px-3 mx-auto sm:scale-100 scale-90"},be={class:"font-bold text-gray-800 text-md text-right"},he={class:"font-bold text-orange-500 text-md text-left"},ye={class:"mt-auto"},we={class:"flex justify-center items-center gap-2 mb-3 mt-2"},_e={class:"font-semibold text-green-600 text-base"},ke={class:"flex justify-center mb-3"},De={class:"flex items-center justify-center gap-4 p-1 border border-gray-200 rounded-2xl w-40"},je=["disabled"],$e={class:"text-lg font-semibold"},Ce={class:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6"},Se={class:"space-y-4"},Pe={class:"flex items-center justify-center gap-4 p-3 border border-gray-200 rounded-lg"},Te=["disabled"],Me={class:"text-lg font-semibold"},Je={class:"flex justify-center mt-4"},Ie=["disabled"],Ae={class:"space-y-4"},Oe={class:"bg-gray-50 p-4 rounded-lg overflow-x-auto"},Be={class:"mt-8 text-right text-sm text-gray-500 space-y-1"},Le={class:"list-disc list-inside"},Ne={__name:"MealCard",props:{meal:{type:Object,default:()=>({})},isAuthenticated:{type:Boolean,default:!1}},emits:["open-calendar"],setup(d,{emit:T}){const x=d,A=P(!1),h=P(1),I={روزانه:0,هفتگی:.2,ماهانه:.4},J=F(()=>{const a=x.meal.price||0;return Math.round(a*(1-I.روزانه)*h.value)}),_=F(()=>{const a=x.meal.price||0;return Object.entries(I).map(([u,t])=>({plan:u,discountPercent:t*100,priceAfterDiscount:Math.round(a*(1-t)*h.value)}))}),S=()=>{A.value=!0},f=()=>{A.value=!1},j=()=>{h.value++},M=()=>{h.value>1&&h.value--},p=T,y=()=>{p("open-calendar",{basePrice:J.value})};return(a,u)=>(r(),n("div",ge,[e("div",fe,[e("img",{src:d.meal.image_url??(d.meal.image?`/storage/${d.meal.image}`:"/images/placeholder.png"),alt:d.meal.title||"meal",class:"w-full h-90 object-cover rounded-t-2xl"},null,8,pe),d.meal.is_new?(r(),n("span",ve," جدید ")):C("",!0)]),e("div",xe,[e("div",me,[e("h3",be,D(d.meal.title),1),e("h3",he,D(d.meal.kcal)+" کالری",1)]),e("div",ye,[e("div",we,[u[1]||(u[1]=e("span",{class:"text-sm text-gray-400"},"قیمت:",-1)),e("span",_e,D(J.value.toLocaleString())+" تومان",1)]),e("div",ke,[e("div",De,[e("button",{onClick:M,disabled:h.value<=1,class:q(["w-8 h-8 rounded-full transition flex items-center justify-center",h.value>1?"bg-gray-200 text-gray-600 hover:bg-gray-300 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"])},"-",10,je),e("span",$e,D(h.value),1),e("button",{onClick:j,class:"w-8 h-8 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300 transition flex items-center justify-center cursor-pointer"},"+")])]),e("div",{class:"flex justify-center gap-3"},[e("button",{onClick:S,class:"bg-yellow-100 text-yellow-700 border border-yellow-300 px-4 py-1 rounded-md text-sm hover:bg-yellow-200 transition cursor-pointer"}," جزئیات بیشتر "),e("button",{onClick:y,class:"px-4 py-1 rounded-md text-sm transition bg-green-500 text-white hover:bg-green-600 cursor-pointer"}," انتخاب روز ")])])]),A.value?(r(),n("div",{key:0,class:"fixed inset-0 flex items-center justify-center z-50 p-4 backdrop-blur-sm bg-white/30",onClick:f},[e("div",{class:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",onClick:u[0]||(u[0]=Z(()=>{},["stop"]))},[e("button",{onClick:f,class:"absolute top-1 right-3 text-gray-500 hover:text-gray-700 text-xl font-bold z-10 cursor-pointer"}," × "),e("div",Ce,[e("div",Se,[V(ue,{images:["https://images.unsplash.com/photo-1606755962773-0a92177135b9","https://images.unsplash.com/photo-1551218808-94e220e084d2"],title:d.meal.title,"is-new":d.meal.is_new},null,8,["title","is-new"]),u[2]||(u[2]=W('<div class="bg-gray-50 p-4 rounded-lg"><div class="flex justify-between items-start mb-2"><span class="text-sm font-medium text-gray-700">اطلاعات تغذیه‌ای</span></div><div class="space-y-1 text-xs text-gray-600"><div class="flex justify-between"><span>کالری</span><span>۶۰۰</span></div><div class="flex justify-between"><span>پروتئین</span><span>۱۸.۲g</span></div><div class="flex justify-between"><span>کربوهیدرات</span><span>۲۲.۹g</span></div><div class="flex justify-between"><span>چربی</span><span>۴.۵g</span></div></div></div>',1)),e("div",Pe,[e("button",{onClick:M,disabled:h.value<=1,class:q(["w-8 h-8 rounded-full transition",h.value>1?"bg-gray-200 text-gray-600 hover:bg-gray-300 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"])},"-",10,Te),e("span",Me,D(h.value),1),e("button",{onClick:j,class:"w-8 h-8 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300 transition cursor-pointer"},"+")]),e("div",Je,[e("button",{onClick:y,disabled:d.isAuthenticated,class:"w-full bg-green-500 text-white py-3 rounded-md text-sm font-medium hover:bg-green-600 transition disabled:bg-gray-300 disabled:cursor-not-allowed"}," انتخاب روز ",8,Ie)])]),e("div",Ae,[e("div",Oe,[u[4]||(u[4]=W('<h4 class="text-sm font-semibold text-gray-800 text-right"> موارد منع مصرف </h4><table class="w-full text-xs text-gray-600"><thead><tr class="border-b border-gray-200"><th class="text-right py-1 pr-2"></th></tr></thead><tbody><tr><td class="text-right py-1 pr-2">چربی</td></tr></tbody></table><h4 class="text-sm font-semibold text-gray-800 mt-4 text-right"> موارد مصرف </h4><table class="w-full text-xs text-gray-600"><thead><tr class="border-b border-gray-200"><th class="text-right py-1 pr-2"></th></tr></thead><tbody><tr><td class="text-right py-1 pr-2">چربی</td></tr></tbody></table><h4 class="text-sm font-semibold text-gray-800 text-right mt-6"> محتویات </h4><table class="w-full text-xs text-gray-600"><tbody><tr><td class="text-right py-1 pr-2"><p class="text-xs text-gray-500 text-right leading-relaxed"> شامل: نمک، شکر، سس سویا، روغن کنجد، سس تند، برنج، سبزیجات، و غیره. ممکن است حاوی بادام زمینی باشد. </p></td></tr></tbody></table>',6)),e("div",Be,[u[3]||(u[3]=e("p",{class:"font-semibold text-gray-800"},"💡 تخفیف پلن‌ها:",-1)),e("ul",Le,[(r(!0),n(B,null,N(_.value,t=>(r(),n("li",{class:"mt-3",key:t.plan},D(t.plan)+": "+D(t.discountPercent)+"٪ قیمت پس از تخفیف: "+D(t.priceAfterDiscount.toLocaleString())+" تومان ",1))),128))])])])])])])])):C("",!0)]))}};var H,U;function ze(){if(U)return H;U=1,H={toJalaali:T,toGregorian:x,isValidJalaaliDate:A,isLeapJalaaliYear:h,jalaaliMonthLength:I,jalCal:_,j2d:S,d2j:f,g2d:j,d2g:M,jalaaliToDateObject:y,jalaaliWeek:p};var d=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function T(t,s,l){return Object.prototype.toString.call(t)==="[object Date]"&&(l=t.getDate(),s=t.getMonth()+1,t=t.getFullYear()),f(j(t,s,l))}function x(t,s,l){return M(S(t,s,l))}function A(t,s,l){return t>=-61&&t<=3177&&s>=1&&s<=12&&l>=1&&l<=I(t,s)}function h(t){return J(t)===0}function I(t,s){return s<=6?31:s<=11||h(t)?30:29}function J(t){var s=d.length,l=d[0],g,v,m,k,c;if(t<l||t>=d[s-1])throw new Error("Invalid Jalaali year "+t);for(c=1;c<s&&(g=d[c],v=g-l,!(t<g));c+=1)l=g;return k=t-l,v-k<6&&(k=k-v+a(v+4,33)*33),m=u(u(k+1,33)-1,4),m===-1&&(m=4),m}function _(t,s){var l=d.length,g=t+621,v=-14,m=d[0],k,c,z,w,i,o,$;if(t<m||t>=d[l-1])throw new Error("Invalid Jalaali year "+t);for($=1;$<l&&(k=d[$],c=k-m,!(t<k));$+=1)v=v+a(c,33)*8+a(u(c,33),4),m=k;return o=t-m,v=v+a(o,33)*8+a(u(o,33)+3,4),u(c,33)===4&&c-o===4&&(v+=1),w=a(g,4)-a((a(g,100)+1)*3,4)-150,i=20+v-w,s?{gy:g,march:i}:(c-o<6&&(o=o-c+a(c+4,33)*33),z=u(u(o+1,33)-1,4),z===-1&&(z=4),{leap:z,gy:g,march:i})}function S(t,s,l){var g=_(t,!0);return j(g.gy,3,g.march)+(s-1)*31-a(s,7)*(s-7)+l-1}function f(t){var s=M(t).gy,l=s-621,g=_(l,!1),v=j(s,3,g.march),m,k,c;if(c=t-v,c>=0){if(c<=185)return k=1+a(c,31),m=u(c,31)+1,{jy:l,jm:k,jd:m};c-=186}else l-=1,c+=179,g.leap===1&&(c+=1);return k=7+a(c,30),m=u(c,30)+1,{jy:l,jm:k,jd:m}}function j(t,s,l){var g=a((t+a(s-8,6)+100100)*1461,4)+a(153*u(s+9,12)+2,5)+l-34840408;return g=g-a(a(t+100100+a(s-8,6),100)*3,4)+752,g}function M(t){var s,l,g,v,m;return s=4*t+139361631,s=s+a(a(4*t+183187720,146097)*3,4)*4-3908,l=a(u(s,1461),4)*5+308,g=a(u(l,153),5)+1,v=u(a(l,153),12)+1,m=a(s,1461)-100100+a(8-v,6),{gy:m,gm:v,gd:g}}function p(t,s,l){var g=y(t,s,l).getDay(),v=g==6?0:-(g+1),m=6+v;return{saturday:f(S(t,s,l+v)),friday:f(S(t,s,l+m))}}function y(t,s,l,g,v,m,k){var c=x(t,s,l);return new Date(c.gy,c.gm-1,c.gd,g||0,v||0,m||0,k||0)}function a(t,s){return~~(t/s)}function u(t,s){return t-~~(t/s)*s}return H}var Ee=ze();const Ve={dir:"rtl",class:"relative"},qe={key:0,class:"fixed top-70 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white px-6 py-4 rounded shadow-lg z-50"},Fe={key:0,class:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-white/30 z-50"},Ye={class:"bg-white rounded-2xl shadow-2xl max-w-4xl w-11/12 p-6 relative overflow-y-auto max-h-[85vh] flex gap-6"},Ge={class:"flex-1"},He={class:"max-w-lg mx-auto mb-4"},We={class:"grid grid-cols-5 gap-1 text-xs font-bold text-gray-600 mb-2 text-center"},Re=["onClick"],Qe={class:"absolute bottom-0 left-0 w-full bg-gray-200 text-[10px] font-bold text-gray-800 text-center rounded-b-sm flex items-center justify-center"},Ue={key:0},Ke={key:1,class:"text-blue-500 text-[10px]"},Xe={key:0,class:"text-center text-sm text-gray-600 mb-2"},Ze={class:"w-64 flex flex-col items-stretch"},et={class:"font-bold text-lg mt-1"},tt={class:"mt-4 text-xs leading-relaxed"},at={key:0,class:"mt-4"},st={key:1,class:"mt-4"},lt={class:"mt-4 text-xl font-black"},rt={class:"mt-4 text-lg"},ot={key:2,class:"mt-4"},nt={key:3,class:"mt-4"},it=5e4,dt=5e3,ct=.3,ut={__name:"Calender",props:{open:Boolean,basePrice:{type:Number,default:2e5}},emits:["update:open","continue"],setup(d,{emit:T}){const x=d,A=T,h=F({get:()=>x.open,set:w=>A("update:open",w)}),I=P(!0),J=["ش","ی","د","س","چ"],_=P([]),S=P([]),f=P("daily"),j=P("---"),M=P(""),p=P(!1),y=P(x.basePrice),a=P(0),u=w=>w.toLocaleString("fa-IR"),t=F(()=>{switch(f.value){case"daily":return"bg-red-600";case"weekly":return"bg-green-600";case"monthly":return"bg-purple-600";default:return"bg-gray-500"}});function s(w=30){const i=[];let o=new Date;for(let b=0;b<w;b++){const O=(o.getDay()+1)%7;if(O<5){const L=Ee.toJalaali(o.getFullYear(),o.getMonth()+1,o.getDate());i.push({gDate:new Date(o),fullDate:o.toISOString().split("T")[0],jDate:L.jd,jMonth:L.jm,jYear:L.jy,isToday:b===0,isSelected:!1,weekdaySatIndex:O})}o.setDate(o.getDate()+1)}const $=[];for(let b=0;b<i.length;b+=5)$.push(i.slice(b,b+5));S.value=$}function l(w){const i=new Date,o=new Date;o.setDate(i.getDate()+1);const $=new Date;$.setDate(i.getDate()+2);const b=new Date(w.gDate);return b.toDateString()===i.toDateString()?"today":b.toDateString()===o.toDateString()?"tomorrow":b.toDateString()===$.toDateString()?"afterTomorrow":"other"}function g(w){const i=w.fullDate,o=l(w);if(o==="afterTomorrow")_.value=_.value.filter(b=>{const O=S.value.flat().find(Y=>Y.fullDate===b),L=l(O);return L!=="today"&&L!=="tomorrow"});else if((o==="today"||o==="tomorrow")&&_.value.some(O=>{const L=S.value.flat().find(Y=>Y.fullDate===O);return l(L)==="afterTomorrow"}))return;const $=_.value.indexOf(i);$===-1?_.value.push(i):_.value.splice($,1),S.value.forEach(b=>b.forEach(O=>O.isSelected=_.value.includes(O.fullDate))),v()}function v(){if(y.value=x.basePrice,a.value=0,M.value="",p.value=!1,_.value.length===0){f.value="daily",j.value="هیچ روزی انتخاب نشده";return}const w=_.value.length;w>=8?(f.value="monthly",j.value="خرید ماهانه",M.value="۴۰٪",p.value=!0):w>=3?(f.value="weekly",j.value="خرید هفتگی",M.value="۲۰٪",p.value=!0):(f.value="daily",j.value="خرید روزانه",M.value="بدون تخفیف",p.value=!1);let i=0;f.value==="weekly"&&(i=.2),f.value==="monthly"&&(i=.4);let o=x.basePrice*(1-i);p.value&&(o*=1-ct),y.value=Math.round(o);const $=f.value==="daily"?it:dt;a.value=y.value*w+$}function m(w){if(w.isSelected)switch(f.value){case"daily":return"bg-red-500 text-white border-2 border-red-700";case"weekly":return"bg-green-500 text-white border-2 border-green-700";case"monthly":return"bg-purple-500 text-white border-2 border-purple-700";default:return"bg-blue-200 text-black border-2 border-blue-400"}return w.isToday?"border-2 border-blue-500 bg-blue-50 text-gray-800":"bg-white text-gray-800 cursor-pointer border border-gray-300 hover:bg-blue-100"}const k=()=>I.value=window.scrollY<50;ee(()=>{s(),window.addEventListener("scroll",k)}),te(()=>{window.removeEventListener("scroll",k)});const c=P(!1);function z(){c.value=!0,setTimeout(()=>c.value=!1,3e3),h.value=!1}return(w,i)=>(r(),n("div",Ve,[e("button",{onClick:i[0]||(i[0]=o=>h.value=!0),class:q(["fixed top-3/5 transform -translate-y-1/2 transition-all duration-700 z-50 cursor-pointer shadow-lg flex items-center justify-center font-bold text-white left-0",I.value?"px-6 py-3 rounded-r-xl text-base bg-[#4e3356]":"px-4 py-2 rounded-r-xl text-sm opacity-70 bg-[#4e3356] hover:px-6 hover:py-3 hover:text-base hover:opacity-100"])},[e("span",null,D(I.value?"انتخاب روز در تقویم":"تقویم من"),1)],2),V(K,{name:"fade"},{default:R(()=>[c.value?(r(),n("div",qe," خرید شما با موفقیت در تقویم رزرو شد ")):C("",!0)]),_:1}),h.value?(r(),n("div",Fe,[e("div",Ye,[e("button",{onClick:z,class:"absolute top-2 right-3 text-gray-600 hover:text-black text-xl cursor-pointer","aria-label":"Return"},i[2]||(i[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 inline",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M12 8l4 4-4 4m4-4H8"})],-1)])),e("div",Ge,[i[4]||(i[4]=e("h2",{class:"text-2xl font-bold mb-4 text-center"},"انتخاب روز در تقویم کاری",-1)),i[5]||(i[5]=e("p",{class:"mb-2 text-gray-700"}," انتخاب روز مشخص برای خرید محصولات در سایت ایوا. ",-1)),e("div",He,[e("div",We,[(r(),n(B,null,N(J,o=>e("div",{key:o},D(o),1)),64))]),(r(!0),n(B,null,N(S.value,(o,$)=>(r(),n("div",{key:$,class:"grid grid-cols-5 gap-2 mb-3"},[(r(!0),n(B,null,N(o,b=>(r(),n("div",{key:b.fullDate,onClick:()=>g(b),class:q([m(b),"w-14 h-14 rounded-sm relative transition-colors select-none cursor-pointer group"])},[i[3]||(i[3]=W('<div class="absolute -top-3 -right-2 flex flex-col items-center" data-v-4682e6ab><span class="text-center text-red-500 text-[12px] font-bold rounded-full leading-none" data-v-4682e6ab> 5 </span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-black drop-shadow-sm" data-v-4682e6ab><path fill-rule="evenodd" d="M2.25 2.25a.75.75 0 000 1.5h1.636l1.808 8.138a2.25 2.25 0 002.202 1.762h9.743a2.25 2.25 0 002.15-1.61l1.605-5.743A.75.75 0 0021 5.25H6.832l-.3-1.35A2.25 2.25 0 004.5 2.25H2.25zm16.5 18a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm-9 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" clip-rule="evenodd" data-v-4682e6ab></path></svg></div><div class="absolute inset-0 flex items-center justify-end ml-1.5 text-sm font-bold text-gray-900" data-v-4682e6ab> 5 </div>',2)),e("div",Qe,[b.isToday?(r(),n("span",Ke,"امروز")):(r(),n("span",Ue,D(b.jDate),1))])],10,Re))),128))]))),128))]),_.value.length>0?(r(),n("div",Xe," روزهای انتخاب شده: "+D(_.value.length)+" روز ",1)):C("",!0)]),e("div",Ze,[e("div",{class:q(["h-[400px] rounded-xl p-4 text-white flex flex-col items-center justify-center text-center transition-all duration-500",t.value])},[e("div",null,[i[6]||(i[6]=e("div",{class:"text-sm opacity-90"},"نوع خرید",-1)),e("div",et,D(j.value),1),e("div",tt,[e("div",null," قیمت پایه (هر روز): "+D(u(x.basePrice))+" تومان ",1),f.value!=="daily"?(r(),n("div",at," تخفیف: "+D(M.value),1)):C("",!0),f.value==="daily"?(r(),n("div",st,"تخفیف: ۰٪")):C("",!0),e("div",lt,D(u(y.value))+" تومان در روز ",1),e("div",rt," مجموع: "+D(u(a.value))+" تومان ",1),p.value?(r(),n("div",ot," این خرید شامل x% سوبسید شرکت است ")):C("",!0),p.value?C("",!0):(r(),n("div",nt," این خرید شامل x% سوبسید شرکت نیست "))])])],2),e("button",{class:"mt-5 h-12 bg-gray-200 text-black rounded-lg font-bold hover:bg-orange-300 transition-colors cursor-pointer",onClick:i[1]||(i[1]=o=>w.$emit("continue"))}," ادامه خرید ")])])])):C("",!0)]))}},gt=Q(ut,[["__scopeId","data-v-4682e6ab"]]),ft={class:"container mx-auto px-6 mb-8"},pt={class:"flex justify-center"},vt={class:"flex gap-3 overflow-x-auto no-scrollbar py-2 justify-center"},xt=["src","alt"],mt={class:"container mx-auto px-6"},bt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8"},ht={class:"mt-10 flex justify-center gap-3"},yt={__name:"Index",props:{meals:Object},setup(d){const T=P(!1),x=P(0),h=ae().props.auth?.user||null,J=d.meals,_=[{title:"همه",image:"/storage/images/food-categories/eco.png"},{title:"لاین غذای اقتصادی",image:"/storage/images/food-categories/eco.png"},{title:"پک میانوعده",image:"/storage/images/food-types/package.png"},{title:"سالاد",image:"/storage/images/food-types/salad.png"},{title:"ساندویچ",image:"/storage/images/food-types/sandwich.png"},{title:"کیک و نان",image:"/storage/images/food-types/cake.png"},{title:"دمنوش و قهوه",image:"/storage/images/food-types/coffee.png"},{title:"نوشیدنی",image:"/storage/images/food-types/drinks.png"},{title:"اوتمیل",image:"/storage/images/food-types/ot-meal.png"},{title:"صبحانه",image:"/storage/images/food-types/breakfast.png"},{title:"دسیرت‌ها",image:"/storage/images/food-types/dessert.png"}],S=p=>{G.post("/cart",{meal_id:p.id,quantity:1})},f=p=>{G.get(`/meals/${p.id}`)},j=p=>{G.get(p,{},{preserveState:!0,replace:!0})};function M(p){const y=p&&typeof p=="object"&&"basePrice"in p?Number(p.basePrice):Number(p);x.value=isNaN(y)?0:y,T.value=!0}return(p,y)=>(r(),n(B,null,[V(X,null,{default:R(()=>[y[3]||(y[3]=e("h1",{class:"text-3xl font-bold text-center text-gray-800 my-10"},"محصولات ایوا",-1)),e("div",ft,[e("div",pt,[e("div",vt,[(r(),n(B,null,N(_,a=>e("button",{key:a.title,class:"flex items-center gap-2 flex-shrink-0 px-4 py-2 rounded-full border border-gray-300 bg-white hover:bg-gray-100 text-sm text-gray-700 transition cursor-pointer"},[e("img",{class:"w-5 h-5 object-contain",src:a.image,alt:a.title},null,8,xt),e("span",null,D(a.title),1)])),64))])])]),e("div",mt,[e("div",bt,[(r(!0),n(B,null,N(E(J).data,a=>(r(),se(Ne,{key:a.id,meal:a,onAddToCart:S,onOpenCalendar:M,onViewDetails:f},null,8,["meal"]))),128))]),e("div",ht,[E(J).prev_page_url?(r(),n("button",{key:0,onClick:y[0]||(y[0]=a=>j(E(J).prev_page_url)),class:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition"}," قبلی ")):C("",!0),E(J).next_page_url?(r(),n("button",{key:1,onClick:y[1]||(y[1]=a=>j(E(J).next_page_url)),class:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition"}," بعدی ")):C("",!0)])])]),_:1,__:[3]}),E(h)?(r(),n(B,{key:0},[V(le),V(gt,{open:T.value,"onUpdate:open":y[2]||(y[2]=a=>T.value=a),basePrice:x.value},null,8,["open","basePrice"])],64)):C("",!0)],64))}},$t=Q(yt,[["__scopeId","data-v-14a29e39"]]);export{$t as default};
