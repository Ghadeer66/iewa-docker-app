import{i as f,r as m,c as v,o as l,w as y,a as t,b as w,e as a,j as u,d as x,n as b,v as c,t as p,k as h,g as k}from"./app-Cg0gBEvb.js";import{A as _}from"./AuthLayout-BnelXhVW.js";import"./Footer-C5ajxOsx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 w-[380px] border border-white/20"},B={key:0,class:"text-red-400 text-xs mt-1"},C={key:0,class:"text-red-400 text-xs mt-1"},L={class:"flex items-center"},M={key:0,class:"bg-red-500/20 border border-red-500 text-red-300 p-3 rounded-xl text-sm text-center"},S={key:1,class:"bg-green-500/20 border border-green-500 text-green-300 p-3 rounded-xl text-sm text-center"},U=["disabled"],j={key:0},A={key:1},F={__name:"Login",setup(D){const r=f({phone:"",password:"",remember:!1}),n=m(!1),d=m(""),s=m({}),g=async()=>{n.value=!0,d.value="",s.value={};try{await k.post("/login",r,{onSuccess:()=>{console.log("Login successful")},onError:o=>{o.errors&&(s.value=o.errors),d.value=o.message||"خطا در ورود. لطفا مجددا تلاش کنید."},onFinish:()=>{n.value=!1}})}catch{d.value="خطا در ارتباط با سرور",n.value=!1}};return(o,e)=>(l(),v(_,null,{default:y(()=>[t("div",V,[e[7]||(e[7]=t("h1",{class:"text-2xl text-center text-lime-300 font-semibold mb-6"}," ورود به حساب ایوا ",-1)),t("form",{onSubmit:w(g,["prevent"]),class:"space-y-5"},[t("div",null,[e[3]||(e[3]=t("label",{class:"text-gray-300 text-sm mb-1 block"},"شماره همراه یا کد پرسنلی",-1)),x(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>r.phone=i),placeholder:"09xxxxxxxxx یا کد پرسنلی",class:b(["w-full px-4 py-2 bg-gray-800 text-white rounded-xl border border-gray-700 focus:ring-2 focus:ring-lime-400 outline-none",{"border-red-500":s.value.phone}])},null,2),[[c,r.phone]]),s.value.phone?(l(),a("p",B,p(s.value.phone[0]),1)):u("",!0)]),t("div",null,[e[4]||(e[4]=t("label",{class:"text-gray-300 text-sm mb-1 block"},"رمز عبور",-1)),x(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=i=>r.password=i),placeholder:"رمز خود را وارد کنید",class:b(["w-full px-4 py-2 bg-gray-800 text-white rounded-xl border border-gray-700 focus:ring-2 focus:ring-lime-400 outline-none",{"border-red-500":s.value.password}])},null,2),[[c,r.password]]),s.value.password?(l(),a("p",C,p(s.value.password[0]),1)):u("",!0)]),t("div",L,[x(t("input",{id:"remember","onUpdate:modelValue":e[2]||(e[2]=i=>r.remember=i),type:"checkbox",class:"h-4 w-4 text-lime-600 focus:ring-lime-500 border-gray-300 rounded"},null,512),[[h,r.remember]]),e[5]||(e[5]=t("label",{for:"remember",class:"mr-2 block text-sm text-gray-300"}," مرا به خاطر بسپار ",-1))]),d.value?(l(),a("div",M,p(d.value),1)):u("",!0),o.$page.props.flash?.message?(l(),a("div",S,p(o.$page.props.flash.message),1)):u("",!0),t("button",{type:"submit",disabled:n.value,class:"w-full py-3 rounded-xl bg-lime-400 text-gray-900 font-semibold hover:bg-lime-300 transition disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(l(),a("span",j,"در حال ورود...")):(l(),a("span",A,"ورود"))],8,U),e[6]||(e[6]=t("div",{class:"flex justify-between text-sm mt-3 text-gray-400"},[t("a",{href:"/forgot-password",class:"hover:text-lime-400 transition"},"رمز عبور را فراموش کرده‌اید؟"),t("a",{href:"/register",class:"hover:text-lime-400 transition"},"ثبت‌نام کنید")],-1))],32)])]),_:1}))}};export{F as default};
