import{_ as K}from"./AppLayout-cSGjixbe.js";import{r as _,d as W,f as d,o,a as e,g as C,t as b,n as F,F as J,i as A,h as Z,A as ee,B as te,s as ae,w as U,T as se,G as re,H as le,c as Y,j as V,u as G}from"./app-CQHdLAOL.js";import{_ as ne}from"./RulesButton-B73AnhXI.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Footer-oqSrR1J9.js";const oe={class:"meal-card bg-white rounded-2xl shadow-md hover:shadow-lg transition overflow-hidden border border-gray-200 flex flex-col relative"},ie={class:"relative w-full bg-gray-100"},de=["src","alt"],ue={key:0,class:"absolute top-3 left-3 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow"},ce={class:"p-4 flex flex-col flex-grow"},ge={class:"flex justify-between items-center gap-4 bg-orange-100 p-3 rounded-xl mb-3"},fe={class:"font-bold text-gray-800 text-md"},be={class:"font-bold text-orange-500 text-md"},ve={class:"flex justify-center items-center gap-2 mb-3"},pe={class:"font-semibold text-green-600 text-base"},ye={class:"flex justify-center mb-3"},xe={class:"flex items-center justify-center gap-4 p-1 border border-gray-200 rounded-2xl w-40"},me=["disabled"],he={class:"text-lg font-semibold"},we={class:"flex-1 overflow-y-auto p-6 space-y-4"},ke={class:"flex justify-between items-center border-b border-gray-200 pb-2 mb-4"},_e={class:"text-xl font-semibold text-gray-800"},De=["src","alt"],je={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},$e={class:"space-y-1 text-gray-600 text-sm"},Ce={class:"flex items-center justify-center gap-4 p-3 border border-gray-200 rounded-lg"},Se=["disabled"],Te={class:"text-lg font-semibold"},Pe=["disabled"],Me={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},Le={class:"list-disc list-inside text-gray-600 text-sm"},Oe={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},Je={class:"list-disc list-inside text-gray-600 text-sm"},Ae={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},Fe={class:"list-disc list-inside text-gray-600 text-sm"},Be={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},Ie={class:"list-disc list-inside text-gray-600 text-sm"},ze={class:"w-80 border-l border-gray-200 bg-gray-50 p-4 flex flex-col"},Ee={class:"flex-1 space-y-3 overflow-y-auto"},Ne={class:"flex-shrink-0"},Ve={class:"w-10 h-10 rounded-full bg-lime-400 flex items-center justify-center text-white text-lg font-bold"},We={class:"flex flex-col"},Ye={class:"font-semibold text-gray-800"},Re={class:"text-gray-600 text-sm"},qe={__name:"MealCard",props:{meal:Object,isAuthenticated:{type:Boolean,default:!1}},emits:["open-calendar"],setup(r,{emit:B}){const S=r,j=_(!1),k=_(1),T={Ø±ÙˆØ²Ø§Ù†Ù‡:0,Ù‡ÙØªÚ¯ÛŒ:.2,Ù…Ø§Ù‡Ø§Ù†Ù‡:.4},I=W(()=>{const v=S.meal.price||0;return Math.round(v*(1-T.Ø±ÙˆØ²Ø§Ù†Ù‡)*k.value)}),w=W(()=>{const v=S.meal.price||0;return Object.entries(T).map(([t,a])=>({plan:t,discountPercent:a*100,priceAfterDiscount:Math.round(v*(1-a)*k.value)}))}),P=()=>{j.value=!0},$=()=>{j.value=!1},p=()=>{k.value++},M=()=>{k.value>1&&k.value--},O=B,L=()=>{O("open-calendar",{basePrice:I.value})},c=_([{user:"Ù†ÛŒÙ„ÙˆÙØ± Ø²Ù…Ø§Ù†ÛŒ",text:"Ú©ÛŒÙÛŒØª ÙÙˆÙ‚ Ø§Ù„Ø¹Ø§Ø¯Ù‡ Ú©Ø§Ù…Ù„Ø§ ØªØ§Ø²Ù‡"},{user:"Ù†ÛŒÙ„ÙˆÙØ± Ø´Ú©Ø±Ø§Ù†Ù‡ Ø§Ù‚Ø¯Ø§Ù…",text:"ÙˆØ§Ù„Ø§ Ø®ÙˆØ´Ù…Ø²Ù‡ Ùˆ Ø¹Ø§Ù„ÛŒ Ø¨ÙˆØ¯ Ø¢Ø¯Ù… Ø§Ø²Ø´ Ø³ÛŒØ± Ù†Ù…ÛŒØ´Ù‡"},{user:"Ø´ÛŒÙ…Ø§ Ø·ÙˆØ³ÛŒ",text:"ÙˆØ§Ù‚Ø¹Ø§ Ø¹Ø§Ù„ÛŒ Ùˆ Ø¨ÛŒÙ†Ø¸ÛŒØ± Ø¨ÙˆØ¯"},{user:"Ø¢ÛŒØ¯Ø§ Ø·Ø§Ù„Ø¨ÛŒ",text:"Ø³Ø§Ù„Ø§Ø¯ Ù‡Ø§ Ù‡Ù…ÛŒØ´Ù‡ Ø®ÛŒÙ„ÛŒ ØªØ§Ø²Ù‡ Ùˆ ÙØ±Ø´ Ù‡Ø³Øª Ù„Ø·ÙØ§ Ù‡Ù…ÛŒÙ† Ø¬ÙˆØ±ÛŒ Ø¨Ù…ÙˆÙ†ÛŒØ¯"},{user:"Ù†ÛŒÙ„ÙˆÙØ± Ø­Ø¯Ø§Ø¯ÛŒØ§Ù†",text:"Ø¯Ø®ØªØ±Ù… Ø§Ø² Ù…Ø´ØªØ±ÛŒ Ù‡Ø§ÛŒ Ø´Ù…Ø§Ø³Øª Ùˆ ÙˆØ§Ù‚Ø¹Ø§ Ø§Ø² Ø®ÙˆØ±Ø¯Ù† ØºØ°Ø§Ù‡Ø§ÛŒ Ø´Ù…Ø§ Ù„Ø°Øª Ù…ÛŒØ¨Ø±Ù‡"},{user:"Ù…Ø±ØªØ¶ÛŒ Ù¾ÛŒØ±ÙˆØ§Ù†ÛŒ",text:"ØªÙ†ÙˆØ¹ ØºØ°Ø§Ù‡Ø§ Ø®ÙˆØ¨Ù‡ Ø§ÛŒÙ† Ø³Ø§Ù„Ø§Ø¯ Ùˆ Ù…Ù† Ø§Ø² Ø¨ÙˆØªÛŒÚ© Ú¯Ø±ÙØªÙ‡ Ø¨ÙˆØ¯Ù…"}]);return(v,t)=>(o(),d("div",oe,[e("div",ie,[e("img",{src:r.meal.image_url??(r.meal.image?`/${r.meal.image}`:"/images/placeholder.png"),alt:r.meal.title||"meal",class:"w-full h-60 object-cover rounded-t-2xl"},null,8,de),r.meal.is_new?(o(),d("span",ue," Ø¬Ø¯ÛŒØ¯ ")):C("",!0)]),e("div",ce,[e("div",ge,[e("h3",fe,b(r.meal.title),1),e("h3",be,b(r.meal.kcal),1)]),e("div",ve,[t[1]||(t[1]=e("span",{class:"text-sm text-gray-500"},"Ù‚ÛŒÙ…Øª:",-1)),e("span",pe,b(I.value.toLocaleString())+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",ye,[e("div",xe,[e("button",{onClick:M,disabled:k.value<=1,class:F([k.value>1?"bg-gray-200 text-gray-600 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed","w-8 h-8 rounded-full transition flex items-center justify-center"])},"-",10,me),e("span",he,b(k.value),1),e("button",{onClick:p,class:"w-8 h-8 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300 transition flex items-center justify-center"},"+")])]),e("div",{class:"flex justify-center gap-3"},[e("button",{onClick:P,class:"bg-yellow-100 text-yellow-700 border border-yellow-300 px-4 py-1 rounded-md text-sm hover:bg-yellow-200 transition cursor-pointer"}," Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ± "),e("button",{onClick:L,class:"px-4 py-2 rounded-md text-sm transition bg-green-500 text-white hover:bg-green-600"}," Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² ")])]),j.value?(o(),d("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:$},[e("div",{onClick:t[0]||(t[0]=Z(()=>{},["stop"])),class:"bg-white rounded-xl shadow-xl w-full max-w-5xl max-h-[85vh] overflow-hidden border border-gray-200 flex"},[e("div",we,[e("div",ke,[e("button",{onClick:$,class:"text-gray-500 hover:text-gray-700 text-2xl font-bold cursor-pointer"}," Ã— "),e("h2",_e,b(r.meal.title),1)]),e("img",{src:r.meal.image_url??(r.meal.image?`/${r.meal.image}`:"/images/placeholder.png"),alt:r.meal.title||"meal",class:"w-full h-60 object-cover rounded-lg shadow-sm"},null,8,De),e("div",je,[t[2]||(t[2]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØºØ°ÛŒÙ‡â€ŒØ§ÛŒ",-1)),e("div",$e,[(o(!0),d(J,null,A(r.meal.nutritional_informations,(a,i)=>(o(),d("div",{key:i,class:"flex justify-between"},[e("span",null,b(i),1),e("span",null,b(a),1)]))),128))])]),e("div",Ce,[e("button",{onClick:M,disabled:k.value<=1,class:F([k.value>1?"bg-gray-200 text-gray-600 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed","w-8 h-8 rounded-full transition flex items-center justify-center"])},"-",10,Se),e("span",Te,b(k.value),1),e("button",{onClick:p,class:"w-8 h-8 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300 transition flex items-center justify-center"},"+")]),e("button",{onClick:L,disabled:r.isAuthenticated,class:"w-full bg-green-500 text-white py-3 rounded-md text-sm font-medium hover:bg-green-600 transition disabled:bg-gray-300 disabled:cursor-not-allowed"}," Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² ",8,Pe),e("div",Me,[t[3]||(t[3]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ù…ÙˆØ§Ø±Ø¯ Ù…Ù†Ø¹ Ù…ØµØ±Ù",-1)),e("ul",Le,[(o(!0),d(J,null,A(r.meal.contraindications,a=>(o(),d("li",{key:a},b(a),1))),128))])]),e("div",Oe,[t[4]||(t[4]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ù…ÙˆØ§Ø±Ø¯ Ù…ØµØ±Ù",-1)),e("ul",Je,[(o(!0),d(J,null,A(r.meal.consumable_items,a=>(o(),d("li",{key:a},b(a),1))),128))])]),e("div",Ae,[t[5]||(t[5]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ù…Ø­ØªÙˆÛŒØ§Øª",-1)),e("ul",Fe,[(o(!0),d(J,null,A(r.meal.ingredients,a=>(o(),d("li",{key:a.id},b(a.title),1))),128))])]),e("div",Be,[t[6]||(t[6]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"ðŸ’¡ ØªØ®ÙÛŒÙ Ù¾Ù„Ù†â€ŒÙ‡Ø§",-1)),e("ul",Ie,[(o(!0),d(J,null,A(w.value,a=>(o(),d("li",{key:a.plan},b(a.plan)+": "+b(a.discountPercent)+"Ùª Ù‚ÛŒÙ…Øª Ù¾Ø³ Ø§Ø² ØªØ®ÙÛŒÙ: "+b(a.priceAfterDiscount.toLocaleString())+" ØªÙˆÙ…Ø§Ù† ",1))),128))])])]),e("div",ze,[t[7]||(t[7]=e("h3",{class:"font-semibold text-gray-800 mb-3"},"Ù†Ø¸Ø±Ø§Øª Ø´Ù…Ø§",-1)),t[8]||(t[8]=e("div",{class:"flex mb-4 gap-2"},[e("input",{type:"text",placeholder:"ØªÙˆ Ù‡Ù… Ù†Ø¸Ø± Ø®ÙˆØ¯Øª Ø±Ùˆ Ø¨Ø²Ø§Ø±...",class:"flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),e("button",{class:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition"},"Ø§Ø±Ø³Ø§Ù„ Ù†Ø¸Ø±")],-1)),e("div",Ee,[(o(!0),d(J,null,A(c.value,(a,i)=>(o(),d("div",{key:i,class:"flex gap-3 bg-white p-3 rounded-lg border border-gray-200"},[e("div",Ne,[e("div",Ve,b(a.user.charAt(0)),1)]),e("div",We,[e("span",Ye,b(a.user),1),e("span",Re,b(a.text),1)])]))),128))])])])])):C("",!0)]))}};var R,H;function Ge(){if(H)return R;H=1,R={toJalaali:B,toGregorian:S,isValidJalaaliDate:j,isLeapJalaaliYear:k,jalaaliMonthLength:T,jalCal:w,j2d:P,d2j:$,g2d:p,d2g:M,jalaaliToDateObject:L,jalaaliWeek:O};var r=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function B(t,a,i){return Object.prototype.toString.call(t)==="[object Date]"&&(i=t.getDate(),a=t.getMonth()+1,t=t.getFullYear()),$(p(t,a,i))}function S(t,a,i){return M(P(t,a,i))}function j(t,a,i){return t>=-61&&t<=3177&&a>=1&&a<=12&&i>=1&&i<=T(t,a)}function k(t){return I(t)===0}function T(t,a){return a<=6?31:a<=11||k(t)?30:29}function I(t){var a=r.length,i=r[0],g,y,m,l,s;if(t<i||t>=r[a-1])throw new Error("Invalid Jalaali year "+t);for(s=1;s<a&&(g=r[s],y=g-i,!(t<g));s+=1)i=g;return l=t-i,y-l<6&&(l=l-y+c(y+4,33)*33),m=v(v(l+1,33)-1,4),m===-1&&(m=4),m}function w(t,a){var i=r.length,g=t+621,y=-14,m=r[0],l,s,u,z,x,n,f;if(t<m||t>=r[i-1])throw new Error("Invalid Jalaali year "+t);for(f=1;f<i&&(l=r[f],s=l-m,!(t<l));f+=1)y=y+c(s,33)*8+c(v(s,33),4),m=l;return n=t-m,y=y+c(n,33)*8+c(v(n,33)+3,4),v(s,33)===4&&s-n===4&&(y+=1),z=c(g,4)-c((c(g,100)+1)*3,4)-150,x=20+y-z,a?{gy:g,march:x}:(s-n<6&&(n=n-s+c(s+4,33)*33),u=v(v(n+1,33)-1,4),u===-1&&(u=4),{leap:u,gy:g,march:x})}function P(t,a,i){var g=w(t,!0);return p(g.gy,3,g.march)+(a-1)*31-c(a,7)*(a-7)+i-1}function $(t){var a=M(t).gy,i=a-621,g=w(i,!1),y=p(a,3,g.march),m,l,s;if(s=t-y,s>=0){if(s<=185)return l=1+c(s,31),m=v(s,31)+1,{jy:i,jm:l,jd:m};s-=186}else i-=1,s+=179,g.leap===1&&(s+=1);return l=7+c(s,30),m=v(s,30)+1,{jy:i,jm:l,jd:m}}function p(t,a,i){var g=c((t+c(a-8,6)+100100)*1461,4)+c(153*v(a+9,12)+2,5)+i-34840408;return g=g-c(c(t+100100+c(a-8,6),100)*3,4)+752,g}function M(t){var a,i,g,y,m;return a=4*t+139361631,a=a+c(c(4*t+183187720,146097)*3,4)*4-3908,i=c(v(a,1461),4)*5+308,g=c(v(i,153),5)+1,y=v(c(i,153),12)+1,m=c(a,1461)-100100+c(8-y,6),{gy:m,gm:y,gd:g}}function O(t,a,i){var g=L(t,a,i).getDay(),y=g==6?0:-(g+1),m=6+y;return{saturday:$(P(t,a,i+y)),friday:$(P(t,a,i+m))}}function L(t,a,i,g,y,m,l){var s=S(t,a,i);return new Date(s.gy,s.gm-1,s.gd,g||0,y||0,m||0,l||0)}function c(t,a){return~~(t/a)}function v(t,a){return t-~~(t/a)*a}return R}var He=Ge();const Ue={dir:"rtl",class:"relative"},Xe={key:0,class:"fixed top-70 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white px-6 py-4 rounded shadow-lg z-50"},Qe={key:0,class:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-white/30 z-50"},Ke={class:"bg-white rounded-2xl shadow-2xl max-w-4xl w-11/12 p-6 relative overflow-y-auto max-h-[85vh] flex gap-6"},Ze={class:"flex-1"},et={class:"max-w-lg mx-auto mb-4"},tt={class:"grid grid-cols-5 gap-1 text-xs font-bold text-gray-600 mb-2 text-center"},at=["onClick"],st={class:"absolute bottom-0 left-0 w-full bg-gray-200 text-[10px] font-bold text-gray-800 text-center rounded-b-sm flex items-center justify-center"},rt={key:0},lt={key:1,class:"text-blue-500 text-[10px]"},nt={key:0,class:"text-center text-sm text-gray-600 mb-2"},ot={class:"w-64 flex flex-col py-16 items-stretch"},it={class:"flex flex-col gap-4 w-full"},dt={class:"font-bold text-lg text-center mb-2"},ut={class:"flex justify-between w-full px-2"},ct={class:"ml-10"},gt={class:"flex justify-between w-full px-2"},ft={class:"ml-6"},bt={class:"flex justify-between w-full px-2"},vt={class:"ml-6"},pt={class:"flex justify-between w-full px-2"},yt={class:"ml-10"},xt={class:"flex justify-between w-full px-2 mt-5"},mt={class:"ml-3"},ht=5e4,wt=5e3,kt=.3,_t={__name:"Calender",props:{open:Boolean,basePrice:{type:Number,default:2e5}},emits:["update:open","continue"],setup(r,{emit:B}){const S=r,j=B,k=W({get:()=>S.open,set:x=>j("update:open",x)}),T=_(!0),I=["Ø´","ÛŒ","Ø¯","Ø³","Ú†"],w=_([]),P=_([]),$=_(!1),p=_("daily"),M=_("---"),O=_(""),L=_(!1),c=_(S.basePrice),v=_(0),t=x=>x.toLocaleString("fa-IR"),a=W(()=>{switch(p.value){case"daily":return"bg-red-600";case"weekly":return"bg-green-600";case"monthly":return"bg-purple-600";default:return"bg-gray-500"}});function i(x=30){const n=[];let f=new Date;for(let h=0;h<x;h++){const E=(f.getDay()+1)%7;if(E<5){const N=He.toJalaali(f.getFullYear(),f.getMonth()+1,f.getDate());n.push({gDate:new Date(f),fullDate:f.toISOString().split("T")[0],jDate:N.jd,jMonth:N.jm,jYear:N.jy,isToday:h===0,isSelected:!1,weekdaySatIndex:E})}f.setDate(f.getDate()+1)}const D=[];for(let h=0;h<n.length;h+=5)D.push(n.slice(h,h+5));P.value=D}function g(x){const n=new Date,f=new Date;f.setDate(n.getDate()+1);const D=new Date;D.setDate(n.getDate()+2);const h=new Date(x.gDate);return h.toDateString()===n.toDateString()?"today":h.toDateString()===f.toDateString()?"tomorrow":h.toDateString()===D.toDateString()?"afterTomorrow":"other"}function y(x){const n=x.fullDate,f=g(x);if(f==="afterTomorrow"){const D=w.value.indexOf(n);D===-1?(w.value=w.value.filter(h=>{const E=P.value.flat().find(q=>q.fullDate===h);return g(E)!=="afterTomorrow"}),w.value.push(n),$.value=!0):(w.value.splice(D,1),$.value=!1)}else{if(f==="today"&&$.value)return;{const D=w.value.indexOf(n);D===-1?w.value.push(n):w.value.splice(D,1)}}P.value.forEach(D=>D.forEach(h=>h.isSelected=w.value.includes(h.fullDate))),m()}function m(){if(c.value=S.basePrice,v.value=0,O.value="",L.value=!1,w.value.length===0){p.value="daily",M.value="Ù‡ÛŒÚ† Ø±ÙˆØ²ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡";return}const x=w.value.length,n=new Set;P.value.forEach((E,N)=>{E.filter(Q=>w.value.includes(Q.fullDate)).length>=1&&n.add(N)}),x>=8&&n.size===P.value.length?(p.value="monthly",M.value="Ø®Ø±ÛŒØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡",O.value="Û´Û°Ùª",L.value=!0):x>=3?(p.value="weekly",M.value="Ø®Ø±ÛŒØ¯ Ù‡ÙØªÚ¯ÛŒ",O.value="Û²Û°Ùª",L.value=!0):(p.value="daily",M.value="Ø®Ø±ÛŒØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡",O.value="Ø¨Ø¯ÙˆÙ† ØªØ®ÙÛŒÙ",L.value=!1);let f=0;p.value==="weekly"&&(f=.2),p.value==="monthly"&&(f=.4);let D=S.basePrice*(1-f);L.value&&(D*=1-kt),c.value=Math.round(D);const h=p.value==="daily"?ht:wt;v.value=c.value*x+h}function l(x){const n=g(x);if($.value&&n==="today")return"bg-gray-200 text-gray-400 border border-gray-300 cursor-not-allowed";if(x.isSelected)switch(p.value){case"daily":return"bg-red-500 text-white border-2 border-red-700";case"weekly":return"bg-green-500 text-white border-2 border-green-700";case"monthly":return"bg-purple-500 text-white border-2 border-purple-700";default:return"bg-blue-200 text-black border-2 border-blue-400"}return x.isToday?"border-2 border-blue-500 bg-blue-50 text-gray-800":"bg-white text-gray-800 cursor-pointer border border-gray-300 hover:bg-blue-100"}const s=()=>T.value=window.scrollY<50;ee(()=>{i(),window.addEventListener("scroll",s)}),te(()=>{window.removeEventListener("scroll",s)});const u=_(!1);function z(){u.value=!0,setTimeout(()=>u.value=!1,3e3),k.value=!1}return(x,n)=>(o(),d("div",Ue,[e("button",{onClick:n[0]||(n[0]=f=>k.value=!0),class:F(["fixed top-3/5 transform -translate-y-1/2 transition-all duration-700 z-50 cursor-pointer shadow-lg flex items-center justify-center font-bold text-white left-0",T.value?"px-6 py-3 rounded-r-xl text-base bg-[#4e3356]":"px-4 py-2 rounded-r-xl text-sm opacity-70 bg-[#4e3356] hover:px-6 hover:py-3 hover:text-base hover:opacity-100"])},[e("span",null,b(T.value?"Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² Ø¯Ø± ØªÙ‚ÙˆÛŒÙ…":"ØªÙ‚ÙˆÛŒÙ… Ù…Ù†"),1)],2),ae(se,{name:"fade"},{default:U(()=>[u.value?(o(),d("div",Xe," Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± ØªÙ‚ÙˆÛŒÙ… Ø±Ø²Ø±Ùˆ Ø´Ø¯ ")):C("",!0)]),_:1}),k.value?(o(),d("div",Qe,[e("div",Ke,[e("button",{onClick:z,class:"absolute top-2 right-3 text-gray-600 hover:text-black text-xl cursor-pointer","aria-label":"Return"},n[2]||(n[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 inline",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M12 8l4 4-4 4m4-4H8"})],-1)])),e("div",Ze,[n[4]||(n[4]=e("h2",{class:"text-2xl font-bold mb-4 text-black text-center"},"Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø¯Ø± ØªÙ‚ÙˆÛŒÙ… Ú©Ø§Ø±ÛŒ",-1)),e("div",et,[e("div",tt,[(o(),d(J,null,A(I,f=>e("div",{key:f},b(f),1)),64))]),(o(!0),d(J,null,A(P.value,(f,D)=>(o(),d("div",{key:D,class:"grid grid-cols-5 gap-2 mb-3"},[(o(!0),d(J,null,A(f,h=>(o(),d("div",{key:h.fullDate,onClick:()=>y(h),class:F([l(h),"w-14 h-14 rounded-sm relative transition-colors select-none cursor-pointer group"])},[n[3]||(n[3]=re('<div class="absolute -top-3 -right-2 flex flex-col items-center" data-v-e6fd4d6a><span class="text-center text-red-500 text-[12px] font-bold rounded-full leading-none" data-v-e6fd4d6a> 5 </span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-black drop-shadow-sm" data-v-e6fd4d6a><path fill-rule="evenodd" d="M2.25 2.25a.75.75 0 000 1.5h1.636l1.808 8.138a2.25 2.25 0 002.202 1.762h9.743a2.25 2.25 0 002.15-1.61l1.605-5.743A.75.75 0 0021 5.25H6.832l-.3-1.35A2.25 2.25 0 004.5 2.25H2.25zm16.5 18a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm-9 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" clip-rule="evenodd" data-v-e6fd4d6a></path></svg></div><div class="absolute inset-0 flex items-center justify-end ml-1.5 text-sm font-bold text-gray-900" data-v-e6fd4d6a> 5 </div>',2)),e("div",st,[h.isToday?(o(),d("span",lt,"Ø§Ù…Ø±ÙˆØ²")):(o(),d("span",rt,b(h.jDate),1))])],10,at))),128))]))),128))]),w.value.length>0?(o(),d("div",nt," Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡: "+b(w.value.length)+" Ø±ÙˆØ² ",1)):C("",!0)]),e("div",ot,[e("div",{class:F(["h-[400px] rounded-xl p-4 text-white flex flex-col items-center justify-center text-center transition-all duration-500",a.value])},[e("div",it,[e("div",dt,b(M.value),1),e("div",ut,[n[5]||(n[5]=e("div",{class:"font-medium text-center mr-4"},"ØªØ®ÙÛŒÙ:",-1)),e("div",ct,b(p.value==="daily"?"Û°Ùª":O.value),1)]),e("div",gt,[n[6]||(n[6]=e("div",{class:"font-medium text-cener mr-4"},"Ù‚ÛŒÙ…Øª:",-1)),e("div",ft,b(t(S.basePrice))+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",bt,[n[7]||(n[7]=e("div",{class:"font-medium text-center mr-4"},"Ø¬Ù…Ø¹:",-1)),e("div",vt,b(t(v.value))+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",pt,[n[8]||(n[8]=e("div",{class:"font-medium text-center mr-4"},"Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª:",-1)),e("div",yt,b(L.value?"x%":"Û°Ùª"),1)]),e("div",xt,[n[9]||(n[9]=e("div",{class:"font-medium text-right"},"Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª:",-1)),e("div",mt,b(t(v.value))+" ØªÙˆÙ…Ø§Ù†",1)])])],2),e("button",{class:"mt-5 h-12 bg-gray-200 text-black rounded-lg font-bold hover:bg-orange-300 transition-colors cursor-pointer",onClick:n[1]||(n[1]=f=>x.$emit("continue"))}," Ø§Ø¯Ø§Ù…Ù‡ Ø®Ø±ÛŒØ¯ ")])])])):C("",!0)]))}},Dt=X(_t,[["__scopeId","data-v-e6fd4d6a"]]),jt={class:"container mx-auto px-6 mb-8"},$t=["onClick"],Ct=["src","alt"],St={key:0,class:"text-center py-8"},Tt={key:1,class:"container mx-auto px-6"},Pt={key:0,class:"text-center py-12"},Mt={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 mb-8"},Lt={key:2,class:"mt-10 flex justify-center items-center gap-2 flex-wrap mb-8"},Ot={key:2,class:"px-2 text-gray-500"},Jt=["onClick"],At={key:3,class:"px-2 text-gray-500"},Ft={__name:"Index",props:{meals:Object,pagination:Object,filters:Object},setup(r){const B=_(!1),S=_(0),j=_(!1),k=_("Ù‡Ù…Ù‡"),T=_(!1),I=_(0),w=_(0),$=le().props.auth?.user||null,p=r,M=[{title:"Ù‡Ù…Ù‡",type:"category"},{title:"Ù„Ø§ÛŒÙ† ØºØ°Ø§ÛŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ",image:"/images/food-categories/eco.png",type:"category"},{title:"Ù¾Ú© Ù…ÛŒØ§Ù†ÙˆØ¹Ø¯Ù‡",image:"/images/food-types/package.png",type:"category"},{title:"Ø³Ø§Ù„Ø§Ø¯",image:"/images/food-types/salad.png",type:"category"},{title:"Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†",image:"/images/food-types/sandwich.png",type:"category"},{title:"Ú©ÛŒÚ© Ùˆ Ù†Ø§Ù†",image:"/images/food-types/cake.png",type:"category"},{title:"Ø¯Ù…Ù†ÙˆØ´ Ùˆ Ù‚Ù‡ÙˆÙ‡",image:"/images/food-types/coffee.png",type:"category"},{title:"Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ",image:"/images/food-types/drinks.png",type:"category"},{title:"Ø§ÙˆØªÙ…ÛŒÙ„",image:"/images/food-types/ot-meal.png",type:"category"},{title:"ØµØ¨Ø­Ø§Ù†Ù‡",image:"/images/food-types/breakfast.png",type:"category"},{title:"Ø¯Ø³ÛŒØ±Øªâ€ŒÙ‡Ø§",image:"/images/food-types/dessert.png",type:"category"}],O=W(()=>{if(!p.pagination)return[];const l=p.pagination.last_page,s=p.pagination.current_page;let u=Math.max(s-1,1),z=Math.min(s+1,l);s<=3&&(z=Math.min(5,l)),s>=l-2&&(u=Math.max(l-4,1));const x=[];for(let n=u;n<=z;n++)x.push(n);return x}),L=l=>{j.value=!0,k.value=l.title;const s=new URLSearchParams;l.type==="category"&&l.title!=="Ù‡Ù…Ù‡"&&s.append("category",l.title),V.get(`/menu?${s.toString()}`,{},{preserveState:!0,replace:!0,onFinish:()=>j.value=!1})},c=()=>{j.value=!0,k.value="Ù‡Ù…Ù‡",V.get("/menu",{},{preserveState:!0,replace:!0,onFinish:()=>j.value=!1})},v=l=>{j.value=!0;const s=new URLSearchParams;p.filters?.category&&p.filters.category!=="Ù‡Ù…Ù‡"&&s.append("category",p.filters.category),p.filters?.type&&s.append("type",p.filters.type),s.append("page",l),V.get(`/menu?${s.toString()}`,{},{preserveState:!0,replace:!0,onFinish:()=>j.value=!1})},t=l=>V.post("/cart",{meal_id:l.id,quantity:1}),a=l=>V.get(`/meals/${l.id}`);function i(l){const s=l&&typeof l=="object"&&"basePrice"in l?Number(l.basePrice):Number(l);S.value=isNaN(s)?0:s,B.value=!0}const g=l=>{T.value=!0,I.value=l.pageX-l.currentTarget.offsetLeft,w.value=l.currentTarget.scrollLeft},y=()=>T.value=!1,m=l=>{if(!T.value)return;l.preventDefault();const u=l.pageX-l.currentTarget.offsetLeft-I.value;l.currentTarget.scrollLeft=w.value-u};return(l,s)=>(o(),Y(K,null,{default:U(()=>[s[7]||(s[7]=e("h1",{class:"text-3xl font-bold text-center text-gray-800 my-10"},"Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§",-1)),e("div",jt,[e("div",{class:"overflow-x-auto py-2 no-scrollbar",ref:"scrollContainer",onMousedown:g,onMouseup:y,onMouseleave:y,onMousemove:m},[e("div",{class:F(["flex gap-3 w-max cursor-grab",{"cursor-grabbing":T.value}])},[(o(),d(J,null,A(M,u=>e("button",{key:u.title,onClick:z=>L(u),class:F(["flex items-center gap-2 flex-shrink-0 px-4 py-2 rounded-full border text-sm transition",k.value===u.title?"bg-blue-500 text-white border-blue-500":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"])},[u.image?(o(),d("img",{key:0,class:"w-5 h-5 object-contain",src:u.image,alt:u.title},null,8,Ct)):C("",!0),e("span",null,b(u.title),1)],10,$t)),64))],2)],544)]),j.value?(o(),d("div",St,s[5]||(s[5]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...",-1)]))):(o(),d("div",Tt,[r.meals.data.length===0?(o(),d("div",Pt,[s[6]||(s[6]=e("p",{class:"text-gray-500 text-lg"},"Ù…Ø­ØµÙˆÙ„ÛŒ Ø¨Ø§ ÙÛŒÙ„ØªØ± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯.",-1)),e("button",{onClick:c,class:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition cursor-pointer"}," Ø­Ø°Ù ÙÛŒÙ„ØªØ±Ù‡Ø§ ")])):(o(),d("div",Mt,[(o(!0),d(J,null,A(r.meals.data,u=>(o(),Y(qe,{key:u.id,meal:u,onAddToCart:t,onOpenCalendar:i,onViewDetails:a},null,8,["meal"]))),128))])),r.meals.data.length>0&&r.pagination.last_page>1?(o(),d("div",Lt,[r.pagination.current_page>1?(o(),d("button",{key:0,onClick:s[0]||(s[0]=u=>v(r.pagination.current_page-1)),class:"px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-100 transition cursor-pointer"}," Ù‚Ø¨Ù„ÛŒ ")):C("",!0),r.pagination.current_page>3&&!O.value.includes(1)?(o(),d("button",{key:1,onClick:s[1]||(s[1]=u=>v(1)),class:F(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",r.pagination.current_page===1?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])}," 1 ",2)):C("",!0),r.pagination.current_page>4?(o(),d("span",Ot,"...")):C("",!0),(o(!0),d(J,null,A(O.value,u=>(o(),d("button",{key:u,onClick:z=>v(u),class:F(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",u===r.pagination.current_page?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])},b(u),11,Jt))),128)),r.pagination.current_page<r.pagination.last_page-3?(o(),d("span",At,"...")):C("",!0),r.pagination.current_page<r.pagination.last_page-2&&!O.value.includes(r.pagination.last_page)?(o(),d("button",{key:4,onClick:s[2]||(s[2]=u=>v(r.pagination.last_page)),class:F(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",r.pagination.last_page===r.pagination.current_page?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])},b(r.pagination.last_page),3)):C("",!0),r.pagination.current_page<r.pagination.last_page?(o(),d("button",{key:5,onClick:s[3]||(s[3]=u=>v(r.pagination.current_page+1)),class:"px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-100 transition cursor-pointer"}," Ø¨Ø¹Ø¯ÛŒ ")):C("",!0)])):C("",!0)])),G($)?(o(),Y(ne,{key:2})):C("",!0),G($)?(o(),Y(Dt,{key:3,open:B.value,"onUpdate:open":s[4]||(s[4]=u=>B.value=u),basePrice:S.value},null,8,["open","basePrice"])):C("",!0)]),_:1,__:[7]}))}},Vt=X(Ft,[["__scopeId","data-v-3751e427"]]);export{Vt as default};
