import{_ as je}from"./AppLayout-BnjhR6Rv.js";import{r as y,c as P,f as g,o as i,d as e,g as C,t as h,n as V,F as B,j as F,i as ve,z as Ie,C as ye,J as $e,D as Ce,E as fe,b as he,w as ue,T as we,H as ke,a as ee,s as $,I as Me,u as de,h as Te,k as se}from"./app-C-zV1K6N.js";import{_ as Oe}from"./RulesButton-C83eUQ2h.js";import{useCartStore as Pe}from"./cart-BkgLG9Ul.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Footer-XgKuQT1X.js";const Le={class:"meal-card bg-white rounded-2xl shadow-md hover:shadow-lg transition overflow-hidden border border-gray-200 flex flex-col relative"},Ee={class:"relative w-full bg-gray-100"},Ae=["src","alt"],ze={key:0,class:"absolute top-3 left-3 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow"},Je={class:"p-4 flex flex-col flex-grow"},Ne={class:"flex justify-between items-center gap-4 bg-orange-100 p-3 rounded-xl mb-3"},Be={class:"font-bold text-gray-800 text-md"},Fe={class:"font-bold text-orange-500 text-md"},Ve={class:"flex justify-center items-center gap-2 mb-3"},We={class:"font-semibold text-green-600 text-base"},Re={class:"flex justify-center mb-3"},Qe={class:"flex items-center justify-center gap-4 p-1 border border-gray-200 rounded-2xl w-40"},qe=["disabled"],Ye={class:"text-lg font-semibold"},Ue={class:"flex-1 overflow-y-auto p-6 space-y-4"},Ge={class:"flex justify-between items-center border-b border-gray-200 pb-2 mb-4"},He={class:"text-xl font-semibold text-gray-800"},Xe={key:0,class:"relative w-full"},Ke=["src","alt"],Ze={class:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-2"},et=["onClick"],tt=["src","alt"],at={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},lt={class:"space-y-1 text-gray-600 text-sm"},st={class:"flex items-center justify-center gap-4 p-3 border border-gray-200 rounded-lg"},rt=["disabled"],nt={class:"text-lg font-semibold"},ot=["disabled"],it={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},dt={class:"list-disc list-inside text-gray-600 text-sm"},ut={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},ct={class:"w-full text-sm text-gray-600 border-collapse"},mt={class:"py-2 px-4 align-top border-l border-gray-300"},gt={class:"py-2 px-4 align-top"},ft={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},xt={class:"list-disc list-inside text-gray-600 text-sm"},bt={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},pt={class:"flex flex-col space-y-3"},vt={class:"flex-shrink-0"},yt={class:"w-10 h-10 rounded-full bg-lime-400 flex items-center justify-center text-white text-lg font-bold"},ht={class:"flex flex-col"},wt={class:"font-semibold text-gray-800"},kt={class:"text-gray-600 text-sm"},_t={__name:"MealCard",props:{meal:Object,isAuthenticated:{type:Boolean,default:!1}},emits:["open-calendar"],setup(a,{emit:X}){const b=a,L=y(!1),j=y(1),M={Ø±ÙˆØ²Ø§Ù†Ù‡:0,Ù‡ÙØªÚ¯ÛŒ:.2,Ù…Ø§Ù‡Ø§Ù†Ù‡:.4},A=P(()=>{const c=b.meal.price||0;return Math.round(c*(1-M.Ø±ÙˆØ²Ø§Ù†Ù‡)*j.value)}),O=P(()=>{const c=b.meal.price||0;return Object.entries(M).map(([l,s])=>({plan:l,discountPercent:s*100,priceAfterDiscount:Math.round(c*(1-s)*j.value)}))}),W=()=>{L.value=!0},z=()=>{L.value=!1},p=()=>{j.value++},I=()=>{j.value>1&&j.value--},U=X,J=()=>{const c=b.meal.thumbnail_url??b.meal.image_url??(b.meal.image?`/${b.meal.image}`:"/images/placeholder.png");U("open-calendar",{basePrice:A.value,mealId:b.meal.id,mealTitle:b.meal.title,mealImage:c,quantity:j.value})},f=P(()=>{const c=Array.isArray(b.meal?.images)?b.meal.images.map(l=>{const s=l?.url;return s?s.startsWith("http://")||s.startsWith("https://")||s.startsWith("/")?s:`/${s}`:null}).filter(Boolean):[];return c.length===0&&b.meal?.image_url?[b.meal.image_url]:c}),v=y(0),r=()=>{f.value.length>0&&(v.value=(v.value+1)%f.value.length)},n=()=>{f.value.length>0&&(v.value=(v.value-1+f.value.length)%f.value.length)},d=c=>{c>=0&&c<f.value.length&&(v.value=c)};return(c,l)=>(i(),g("div",Le,[e("div",Ee,[e("img",{src:a.meal.thumbnail_url??a.meal.image_url??(a.meal.image?`/${a.meal.image}`:"/images/placeholder.png"),alt:a.meal.title||"meal",class:"w-full object-cover rounded-t-2xl",style:{"aspect-ratio":"3 / 2"}},null,8,Ae),a.meal.is_new?(i(),g("span",ze," Ø¬Ø¯ÛŒØ¯ ")):C("",!0)]),e("div",Je,[e("div",Ne,[e("h3",Be,h(a.meal.title),1),e("h3",Fe,h(a.meal.kcal)+" Ú©Ø§Ù„Ø±ÛŒ ",1)]),e("div",Ve,[l[1]||(l[1]=e("span",{class:"text-sm text-gray-500"},"Ù‚ÛŒÙ…Øª:",-1)),e("span",We,h(A.value.toLocaleString())+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",Re,[e("div",Qe,[e("button",{onClick:I,disabled:j.value<=1,class:V([j.value>1?"bg-gray-200 text-gray-600 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed","w-8 h-8 rounded-full transition flex items-center justify-center"])},"-",10,qe),e("span",Ye,h(j.value),1),e("button",{onClick:p,class:"w-8 h-8 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300 transition flex items-center justify-center"},"+")])]),e("div",{class:"flex justify-center gap-3"},[e("button",{onClick:W,class:"bg-yellow-100 text-yellow-700 border border-yellow-300 px-4 py-1 rounded-md text-sm hover:bg-yellow-200 transition cursor-pointer"}," Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ± "),e("button",{onClick:J,class:"px-4 py-2 rounded-md text-sm transition bg-green-500 text-white hover:bg-green-600 cursor-pointer"}," Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² ")])]),L.value?(i(),g("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:z},[e("div",{onClick:l[0]||(l[0]=ve(()=>{},["stop"])),class:"bg-white rounded-xl shadow-xl w-full max-w-5xl max-h-[85vh] overflow-hidden border border-gray-200 flex"},[e("div",Ue,[e("div",Ge,[e("button",{onClick:z,class:"text-gray-500 hover:text-gray-700 text-2xl font-bold cursor-pointer"}," Ã— "),e("h2",He,h(a.meal.title),1)]),f.value.length>1?(i(),g("div",Xe,[e("img",{src:f.value[v.value],alt:a.meal.title||"meal",class:"w-full object-cover rounded-lg shadow-sm",style:{"aspect-ratio":"3 / 2"}},null,8,Ke),e("button",{onClick:n,class:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/40 text-white w-8 h-8 rounded-full flex items-center justify-center"},"â€¹"),e("button",{onClick:r,class:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/40 text-white w-8 h-8 rounded-full flex items-center justify-center"},"â€º"),e("div",Ze,[(i(!0),g(B,null,F(f.value,(s,w)=>(i(),g("button",{key:w,onClick:x=>d(w),class:V([w===v.value?"bg-white":"bg-white/50","w-2.5 h-2.5 rounded-full"])},null,10,et))),128))])])):(i(),g("img",{key:1,src:f.value[0]??a.meal.image_url??(a.meal.image?`/${a.meal.image}`:"/images/placeholder.png"),alt:a.meal.title||"meal",class:"w-full object-cover rounded-lg shadow-sm",style:{"aspect-ratio":"3 / 2"}},null,8,tt)),e("div",at,[l[2]||(l[2]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØºØ°ÛŒÙ‡â€ŒØ§ÛŒ",-1)),e("div",lt,[(i(!0),g(B,null,F(a.meal.nutritional_informations,(s,w)=>(i(),g("div",{key:w,class:"flex justify-between"},[e("span",null,h(w),1),e("span",null,h(s),1)]))),128))])]),e("div",st,[e("button",{onClick:I,disabled:j.value<=1,class:V([j.value>1?"bg-gray-200 text-gray-600 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed","w-8 h-8 rounded-full transition flex items-center justify-center"])},"-",10,rt),e("span",nt,h(j.value),1),e("button",{onClick:p,class:"w-8 h-8 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300 transition flex items-center justify-center"},"+")]),e("button",{onClick:J,disabled:a.isAuthenticated,class:"w-full bg-green-500 text-white py-3 rounded-md text-sm font-medium hover:bg-green-600 transition disabled:bg-gray-300 disabled:cursor-not-allowed"}," Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² ",8,ot),e("div",it,[l[3]||(l[3]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ù…Ø­ØªÙˆÛŒØ§Øª",-1)),e("ul",dt,[(i(!0),g(B,null,F(a.meal.ingredients,s=>(i(),g("li",{key:s.id},h(s.title),1))),128))])]),l[9]||(l[9]=e("div",{class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},[e("h3",{class:"font-semibold text-gray-700 mb-2"},"Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø­ØµÙˆÙ„"),e("ul",{class:"list-disc list-inside text-gray-600 text-sm"})],-1)),e("div",ut,[l[5]||(l[5]=e("h3",{class:"font-semibold text-gray-700 mb-4 text-center"},"Ù…ÙˆØ§Ø±Ø¯ Ù…ØµØ±Ù Ùˆ Ù…Ù†Ø¹ Ù…ØµØ±Ù",-1)),e("table",ct,[l[4]||(l[4]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"py-2 px-4 text-right font-medium w-1/2 border-l border-gray-300"},"Ù…ÙˆØ§Ø±Ø¯ Ù…ØµØ±Ù"),e("th",{class:"py-2 px-4 text-right font-medium w-1/2"},"Ù…ÙˆØ§Ø±Ø¯ Ù…Ù†Ø¹ Ù…ØµØ±Ù")])],-1)),e("tbody",null,[(i(!0),g(B,null,F(Math.max(a.meal.consumable_items.length,a.meal.contraindications.length),s=>(i(),g("tr",{key:s},[e("td",mt,h(a.meal.consumable_items[s-1]||"-"),1),e("td",gt,h(a.meal.contraindications[s-1]||"-"),1)]))),128))])])]),e("div",ft,[l[6]||(l[6]=e("h3",{class:"font-semibold text-gray-700 mb-2"},"ðŸ’¡ ØªØ®ÙÛŒÙ Ù¾Ù„Ù†â€ŒÙ‡Ø§",-1)),e("ul",xt,[(i(!0),g(B,null,F(O.value,s=>(i(),g("li",{key:s.plan},h(s.plan)+": "+h(s.discountPercent)+"Ùª Ù‚ÛŒÙ…Øª Ù¾Ø³ Ø§Ø² ØªØ®ÙÛŒÙ: "+h(s.priceAfterDiscount.toLocaleString())+" ØªÙˆÙ…Ø§Ù† ",1))),128))])]),e("div",bt,[l[7]||(l[7]=e("h3",{class:"font-semibold text-gray-800 mb-3"},"Ù†Ø¸Ø±Ø§Øª Ø´Ù…Ø§",-1)),l[8]||(l[8]=e("div",{class:"flex mb-4 gap-2"},[e("input",{type:"text",placeholder:"ØªÙˆ Ù‡Ù… Ù†Ø¸Ø± Ø®ÙˆØ¯Øª Ø±Ùˆ Ø¨Ø²Ø§Ø±...",class:"flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),e("button",{class:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition"},"Ø§Ø±Ø³Ø§Ù„ Ù†Ø¸Ø±")],-1)),e("div",pt,[(i(!0),g(B,null,F(c.comments,(s,w)=>(i(),g("div",{key:w,class:"flex gap-3 bg-white p-3 rounded-lg border border-gray-200"},[e("div",vt,[e("div",yt,h(s.user.charAt(0)),1)]),e("div",ht,[e("span",wt,h(s.user),1),e("span",kt,h(s.text),1)])]))),128))])])])])])):C("",!0)]))}};var ge,pe;function Dt(){if(pe)return ge;pe=1,ge={toJalaali:X,toGregorian:b,isValidJalaaliDate:L,isLeapJalaaliYear:j,jalaaliMonthLength:M,jalCal:O,j2d:W,d2j:z,g2d:p,d2g:I,jalaaliToDateObject:J,jalaaliWeek:U};var a=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function X(r,n,d){return Object.prototype.toString.call(r)==="[object Date]"&&(d=r.getDate(),n=r.getMonth()+1,r=r.getFullYear()),z(p(r,n,d))}function b(r,n,d){return I(W(r,n,d))}function L(r,n,d){return r>=-61&&r<=3177&&n>=1&&n<=12&&d>=1&&d<=M(r,n)}function j(r){return A(r)===0}function M(r,n){return n<=6?31:n<=11||j(r)?30:29}function A(r){var n=a.length,d=a[0],c,l,s,w,x;if(r<d||r>=a[n-1])throw new Error("Invalid Jalaali year "+r);for(x=1;x<n&&(c=a[x],l=c-d,!(r<c));x+=1)d=c;return w=r-d,l-w<6&&(w=w-l+f(l+4,33)*33),s=v(v(w+1,33)-1,4),s===-1&&(s=4),s}function O(r,n){var d=a.length,c=r+621,l=-14,s=a[0],w,x,q,K,G,N,H;if(r<s||r>=a[d-1])throw new Error("Invalid Jalaali year "+r);for(H=1;H<d&&(w=a[H],x=w-s,!(r<w));H+=1)l=l+f(x,33)*8+f(v(x,33),4),s=w;return N=r-s,l=l+f(N,33)*8+f(v(N,33)+3,4),v(x,33)===4&&x-N===4&&(l+=1),K=f(c,4)-f((f(c,100)+1)*3,4)-150,G=20+l-K,n?{gy:c,march:G}:(x-N<6&&(N=N-x+f(x+4,33)*33),q=v(v(N+1,33)-1,4),q===-1&&(q=4),{leap:q,gy:c,march:G})}function W(r,n,d){var c=O(r,!0);return p(c.gy,3,c.march)+(n-1)*31-f(n,7)*(n-7)+d-1}function z(r){var n=I(r).gy,d=n-621,c=O(d,!1),l=p(n,3,c.march),s,w,x;if(x=r-l,x>=0){if(x<=185)return w=1+f(x,31),s=v(x,31)+1,{jy:d,jm:w,jd:s};x-=186}else d-=1,x+=179,c.leap===1&&(x+=1);return w=7+f(x,30),s=v(x,30)+1,{jy:d,jm:w,jd:s}}function p(r,n,d){var c=f((r+f(n-8,6)+100100)*1461,4)+f(153*v(n+9,12)+2,5)+d-34840408;return c=c-f(f(r+100100+f(n-8,6),100)*3,4)+752,c}function I(r){var n,d,c,l,s;return n=4*r+139361631,n=n+f(f(4*r+183187720,146097)*3,4)*4-3908,d=f(v(n,1461),4)*5+308,c=f(v(d,153),5)+1,l=v(f(d,153),12)+1,s=f(n,1461)-100100+f(8-l,6),{gy:s,gm:l,gd:c}}function U(r,n,d){var c=J(r,n,d).getDay(),l=c==6?0:-(c+1),s=6+l;return{saturday:z(W(r,n,d+l)),friday:z(W(r,n,d+s))}}function J(r,n,d,c,l,s,w){var x=b(r,n,d);return new Date(x.gy,x.gm-1,x.gd,c||0,l||0,s||0,w||0)}function f(r,n){return~~(r/n)}function v(r,n){return r-~~(r/n)*n}return ge}var St=Dt();const jt={dir:"rtl",class:"relative"},It={key:0,class:"fixed top-20 md:top-70 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white px-4 py-3 md:px-6 md:py-4 rounded shadow-lg z-50 text-sm md:text-base"},$t={key:0,class:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-white/30 z-50 p-4"},Ct={class:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-4 md:p-6 relative overflow-y-auto max-h-[90vh] flex flex-col md:flex-row gap-4 md:gap-6"},Mt={class:"flex-1 w-full md:flex-1"},Tt={class:"max-w-lg mx-auto mb-3 md:mb-4"},Ot={class:"grid grid-cols-7 gap-0.5 md:gap-1 text-xs font-bold text-gray-600 mb-1 md:mb-2 text-center"},Pt=["onClick"],Lt={key:0,class:"absolute -top-1 md:-top-3 -right-0.5 md:-right-2 flex flex-col items-center"},Et={class:"text-[10px] md:text-[12px]"},At={class:"absolute bottom-0 left-0 w-full bg-gray-200 text-[8px] md:text-[10px] font-bold text-gray-800 text-center rounded-b-sm flex items-center justify-center h-3 md:h-auto py-0 md:py-0.5"},zt={key:0,class:"leading-none"},Jt={key:1,class:"text-blue-500 text-[8px] md:text-[10px] leading-none"},Nt={key:0,class:"text-center text-xs md:text-sm text-gray-600 mb-2"},Bt={class:"w-full md:w-75 flex flex-col py-4 md:py-16 items-stretch"},Ft={class:"flex flex-col gap-2 md:gap-4 w-full"},Vt={class:"font-bold text-base md:text-lg text-center mb-1 md:mb-2"},Wt={class:"flex justify-between w-full px-1 md:px-2 text-xs md:text-sm"},Rt={class:"ml-2 md:ml-6"},Qt={class:"flex justify-between w-full px-1 md:px-2 text-xs md:text-sm"},qt={class:"ml-4 md:ml-10"},Yt={class:"flex justify-between w-full px-1 md:px-2 text-xs md:text-sm"},Ut={class:"ml-4 md:ml-10"},Gt={class:"flex justify-between w-full px-1 md:px-2 text-xs md:text-sm"},Ht={class:"ml-2 md:ml-6"},Xt={class:"flex justify-between w-full px-1 md:px-2 mt-3 md:mt-5 text-xs md:text-sm"},Kt={class:"ml-2 md:ml-6"},Zt={__name:"Calender",props:{open:Boolean,basePrice:{type:Number,default:2e5},mealId:{type:String,default:"default"},mealTitle:{type:String,default:"Ù…Ø­ØµÙˆÙ„"},mealImage:{type:String,default:""},mealQuantity:{type:Number,default:1}},emits:["update:open","continue"],setup(a,{emit:X}){const b=a,L=X,j=P({get:()=>b.open,set:u=>L("update:open",u)}),M=y(!0),A=y(!1),O=P(()=>!M.value||A.value),W=["Ø´","ÛŒ","Ø¯","Ø³","Ú†","Ù¾","Ø¬"],z=P(()=>{const t=(new Date().getDay()+1)%7,T=[];for(let k=0;k<7;k++)T.push(W[(t+k)%7]);return T}),p=y([]),I=y([]);y(!1);const U=y(!1),J=y(!1),f=Pe(),{items:v}=Ie(f),r=P(()=>{const u=Object.create(null);for(const t of v.value)u[t.dateISO]=(u[t.dateISO]||0)+1;for(const t of p.value)u[t]=(u[t]||0)+1;return u});P(()=>{const u=new Set;for(const t of v.value)t.mealId===b.mealId&&u.add(t.dateISO);return u});const n=y(0),d=y("daily"),c=y("---"),l=y(""),s=y(!1),w=P(()=>{const u=Math.round((n.value||0)*100);return(u>0?u:0).toLocaleString("fa-IR")+"Ùª"}),x=y(b.basePrice),q=y(0),K=y(0),G=u=>u.toLocaleString("fa-IR"),N=P(()=>{switch(d.value){case"daily":return"bg-red-600";case"weekly":return"bg-green-600";case"monthly":return"bg-purple-600";default:return"bg-gray-500"}});function H(){const u=[],t=new Date,k=new Date(t);for(;u.length<28;){const E=(k.getDay()+1)%7,R=St.toJalaali(k.getFullYear(),k.getMonth()+1,k.getDate()),le=k.toDateString()===t.toDateString();u.push({gDate:new Date(k),fullDate:k.toISOString().split("T")[0],jDate:R.jd,jMonth:R.jm,jYear:R.jy,isToday:le,isSelected:!1,weekdaySatIndex:E}),k.setDate(k.getDate()+1)}const D=[];for(let E=0;E<28;E+=7)D.push(u.slice(E,E+7));I.value=D}const ce=P(()=>v.value?Array.from(new Set([...v.value.map(u=>u.dateISO),...p.value])).length:p.value.length);function m(u){const t=u.weekdaySatIndex;return t===5||t===6}function o(u){const t=new Date,T=new Date;T.setDate(t.getDate()+1);const k=new Date;k.setDate(t.getDate()+2);const D=new Date(u.gDate);return D.toDateString()===t.toDateString()?"today":D.toDateString()===T.toDateString()?"tomorrow":D.toDateString()===k.toDateString()?"afterTomorrow":"other"}function _(u){const t=u.fullDate,T=p.value.indexOf(t);if(T===-1?p.value.push(t):p.value.splice(T,1),I.value.forEach(k=>k.forEach(D=>D.isSelected=p.value.includes(D.fullDate))),p.value.sort((k,D)=>new Date(k)-new Date(D)),p.value.length>=3){const k=new Date(p.value[0]),D=new Date(p.value[1]),E=new Date,R=new Date;R.setDate(E.getDate()+1),new Date().setDate(E.getDate()+2);const Q=1440*60*1e3;let Z=!1;if(k.toDateString()===E.toDateString()&&D-k===Q&&(Z=!0),k.toDateString()===R.toDateString()&&D-k===Q&&(Z=!0),Z){const ne=p.value[0];p.value.splice(0,1),I.value.forEach(S=>S.forEach(ie=>{ie.fullDate===ne&&(ie.isSelected=!1)}));const oe=v.value.find(S=>S.mealId===b.mealId&&S.dateISO===ne);oe&&f.removeGroup(b.mealId,ne,oe.price)}}Y()}function Y(){x.value=b.basePrice,q.value=0,K.value=0,l.value="",s.value=n.value>0;const u=v.value.slice(),t=new Set;for(const S of u)S.mealId===b.mealId&&t.add(S.dateISO);let T=0;for(const S of t)p.value.includes(S)||T++;let k=0;for(const S of p.value)t.has(S)||k++;const D=u.length-T+k,E=new Set;for(const S of u)E.add(S.dateISO);for(const S of t)p.value.includes(S);const R=[];for(const S of u)S.mealId===b.mealId?p.value.includes(S.dateISO)&&R.push(S):R.push(S);for(const S of p.value)t.has(S)||R.push({mealId:b.mealId,dateISO:S});for(const S of R)E.add(S.dateISO);const le=new Set;I.value.forEach((S,ie)=>{S.filter(Se=>E.has(Se.fullDate)).length>=1&&le.add(ie)});let Q="daily";D>=8&&le.size===I.value.length?Q="monthly":D>=3?Q="weekly":Q="daily",d.value=Q,Q==="monthly"?(c.value="Ø®Ø±ÛŒØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡",l.value="Û´Û°Ùª",s.value=!0):Q==="weekly"?(c.value="Ø®Ø±ÛŒØ¯ Ù‡ÙØªÚ¯ÛŒ",l.value="Û²Û°Ùª",s.value=!0):(c.value="Ø®Ø±ÛŒØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡",l.value="Ø¨Ø¯ÙˆÙ† ØªØ®ÙÛŒÙ",s.value=!1);let Z=0;Q==="weekly"&&(Z=.2),Q==="monthly"&&(Z=.4);const oe=b.basePrice*(1-(n.value||0))*(1-Z);x.value=Math.round(oe),q.value=x.value,K.value=x.value*p.value.length}function re(u){return(r.value[u]||0).toLocaleString("fa-IR")}function te(u){if(m(u))return"bg-gray-200 text-gray-400 border border-gray-300";if(U.value&&o(u)==="today"||J.value&&o(u)==="tomorrow")return"bg-gray-200 text-gray-400 border border-gray-300 cursor-not-allowed";if(u.isSelected)switch(d.value){case"daily":return"bg-red-500 text-white border-2 border-red-700";case"weekly":return"bg-green-500 text-white border-2 border-green-700";case"monthly":return"bg-purple-500 text-white border-2 border-purple-700";default:return"bg-blue-200 text-black border-2 border-blue-400"}return u.isToday?"border-2 border-blue-500 bg-blue-50 text-gray-800":"bg-white text-gray-800 cursor-pointer border border-gray-300 hover:bg-blue-100"}const be=()=>M.value=window.scrollY<50,me=()=>{A.value=window.innerWidth<768};ye(async()=>{H(),window.addEventListener("scroll",be),me(),window.addEventListener("resize",me);try{const{data:u}=await $e.get("/api/me/subsidy"),t=Number(u?.percentage??0);n.value=!Number.isNaN(t)&&t>0?Math.min(Math.max(t,0),100)/100:0}catch{n.value=0}p.value=[],I.value.forEach(u=>u.forEach(t=>t.isSelected=!1)),Y()}),Ce(()=>{window.removeEventListener("scroll",be),window.removeEventListener("resize",me)});const ae=y(!1);function _e(){p.value.length>0&&f.addSelections(b.mealId,p.value.slice(),b.mealQuantity||1),p.value=[],I.value.forEach(u=>u.forEach(t=>t.isSelected=!1)),Y(),ae.value=!0,setTimeout(()=>ae.value=!1,3e3),j.value=!1}const De=()=>{p.value.length>0&&(x.value,f.addSelections(b.mealId,p.value,b.mealQuantity||1)),j.value=!1,ae.value=!0,setTimeout(()=>ae.value=!1,4e3)};return fe(()=>b.mealId,()=>{p.value=[],I.value.forEach(u=>u.forEach(t=>t.isSelected=!1)),Y()}),fe(v,()=>Y()),(u,t)=>(i(),g("div",jt,[e("button",{onClick:t[0]||(t[0]=T=>j.value=!0),class:V(["fixed top-1/2 transform -translate-y-1/2 transition-all duration-700 z-50 cursor-pointer shadow-lg flex items-center justify-center font-bold text-white left-0 md:left-0 mt-20",O.value?"px-3 py-1.5 md:px-4 md:py-2 rounded-r-xl text-xs md:text-sm opacity-70 bg-[#4e3356] hover:px-4 hover:py-2 hover:text-sm hover:opacity-100 md:hover:px-6 md:hover:py-3 md:hover:text-base":"px-4 py-2 md:px-6 md:py-3 rounded-r-xl text-sm md:text-base bg-[#4e3356]"])},[e("span",null,h(O.value?"ØªÙ‚ÙˆÛŒÙ… Ù…Ù†":"Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² Ø¯Ø± ØªÙ‚ÙˆÛŒÙ…"),1)],2),he(we,{name:"fade"},{default:ue(()=>[ae.value?(i(),g("div",It," Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± ØªÙ‚ÙˆÛŒÙ… Ø±Ø²Ø±Ùˆ Ø´Ø¯ ")):C("",!0)]),_:1}),j.value?(i(),g("div",$t,[e("div",Ct,[e("button",{onClick:De,class:"absolute top-2 right-2 md:right-3 text-gray-600 hover:text-black text-lg md:text-xl cursor-pointer z-10","aria-label":"Return"},[...t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 md:h-6 md:w-6 inline",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M12 8l4 4-4 4m4-4H8"})],-1)])]),e("div",Mt,[t[3]||(t[3]=e("h2",{class:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-black text-center"},"Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø¯Ø± ØªÙ‚ÙˆÛŒÙ… Ú©Ø§Ø±ÛŒ",-1)),e("div",Tt,[e("div",Ot,[(i(!0),g(B,null,F(z.value,T=>(i(),g("div",{key:T,class:"py-1"},h(T),1))),128))]),(i(!0),g(B,null,F(I.value,(T,k)=>(i(),g("div",{key:k,class:"grid grid-cols-7 gap-1 md:gap-2 mb-6 md:mb-9"},[(i(!0),g(B,null,F(T,D=>(i(),g("div",{key:D.fullDate,onClick:()=>!m(D)&&_(D),class:V([te(D),"w-10 h-10 md:w-14 md:h-14 rounded-sm relative transition-colors select-none cursor-pointer group"])},[m(D)?C("",!0):(i(),g("div",Lt,[e("div",Et,h(re(D.fullDate)),1),t[2]||(t[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 md:w-6 md:h-6 text-black drop-shadow-sm"},[e("path",{"fill-rule":"evenodd",d:"M2.25 2.25a.75.75 0 000 1.5h1.636l1.808 8.138a2.25 2.25 0 002.202 1.762h9.743a2.25 2.25 0 002.15-1.61l1.605-5.743A.75.75 0 0021 5.25H6.832l-.3-1.35A2.25 2.25 0 004.5 2.25H2.25zm16.5 18a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm-9 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z","clip-rule":"evenodd"})],-1))])),m(D)?C("",!0):(i(),g("div",{key:1,class:V(["absolute inset-0 flex items-center justify-end ml-1 text-xs md:text-sm font-bold transition-colors",D.isSelected?"text-white":"text-red-600"])}," 0 ",2)),e("div",At,[D.isToday?(i(),g("span",Jt,"Ø§Ù…Ø±ÙˆØ²")):(i(),g("span",zt,h(D.jDate),1))])],10,Pt))),128))]))),128))]),p.value.length>0?(i(),g("div",Nt," Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡: "+h(ce.value)+" Ø±ÙˆØ² ",1)):C("",!0)]),e("div",Bt,[e("div",{class:V(["h-64 md:h-[350px] rounded-xl p-3 md:p-4 text-white flex flex-col items-center justify-center text-center transition-all duration-500",N.value])},[e("div",Ft,[e("div",Vt,h(c.value),1),e("div",Wt,[t[4]||(t[4]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„:",-1)),e("div",Rt,h(G(b.basePrice))+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",Qt,[t[5]||(t[5]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª:",-1)),e("div",qt,h(w.value),1)]),e("div",Yt,[t[6]||(t[6]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"ØªØ®ÙÛŒÙ:",-1)),e("div",Ut,h(d.value==="daily"?"Û°Ùª":l.value),1)]),e("div",Gt,[t[7]||(t[7]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"Ø¬Ù…Ø¹:",-1)),e("div",Ht,h(G(q.value))+" ØªÙˆÙ…Ø§Ù†",1)]),e("div",Xt,[t[8]||(t[8]=e("div",{class:"font-medium text-right mr-2 md:mr-4"},"Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª:",-1)),e("div",Kt,h(G(K.value))+" ØªÙˆÙ…Ø§Ù†",1)])])],2),e("button",{class:"mt-4 md:mt-5 h-10 md:h-12 bg-gray-200 text-black rounded-lg font-bold hover:bg-orange-300 transition-colors cursor-pointer text-sm md:text-base",onClick:_e}," Ø§Ø¯Ø§Ù…Ù‡ Ø®Ø±ÛŒØ¯ ")])])])):C("",!0)]))}},ea=xe(Zt,[["__scopeId","data-v-0f9b2872"]]),ta={__name:"UserIntroductionModal",setup(a){const b=ke().props.auth?.user||null,L=y(!1),j=`menu_intro_seen_${b?.id}`;ye(()=>{if(!b)return;localStorage.getItem(j)||setTimeout(()=>{L.value=!0},500)});const M=()=>{L.value=!1,localStorage.setItem(j,"true")};return(A,O)=>(i(),ee(we,{name:"modal"},{default:ue(()=>[L.value?(i(),g("div",{key:0,class:"fixed inset-0 flex items-center justify-center z-[100] backdrop-blur-md bg-black/30",onClick:ve(M,["self"])},[e("div",{class:"bg-white rounded-2xl shadow-2xl max-w-2xl w-11/12 max-h-[90vh] overflow-y-auto p-4 md:p-8 relative transform transition-all",dir:"rtl"},[e("button",{onClick:M,class:"absolute top-2 left-2 md:left-4 text-gray-500 hover:text-gray-700 text-xl md:text-2xl font-bold cursor-pointer z-10","aria-label":"Ø¨Ø³ØªÙ†"}," Ã— "),O[0]||(O[0]=e("div",{class:"text-center mb-4 md:mb-6"},[e("h2",{class:"text-2xl md:text-3xl font-bold text-gray-800 mb-2"},"Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!"),e("p",{class:"text-gray-600 text-sm md:text-base"},"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³ÛŒØ³ØªÙ…")],-1)),O[1]||(O[1]=e("div",{class:"space-y-4 md:space-y-6"},[e("div",{class:"bg-blue-50 rounded-lg p-4 md:p-6 border-r-4 border-blue-500"},[e("h3",{class:"text-lg md:text-xl font-bold text-blue-700 mb-3 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 md:h-6 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),$(" Ù…Ù†ÙˆÛŒ ØªØºØ°ÛŒÙ‡ Ø§ÛŒÙˆØ§ ")]),e("p",{class:"text-gray-700 leading-relaxed text-sm md:text-base"}," Ø¯Ø± ØµÙØ­Ù‡ Ù…Ø­ØµÙˆÙ„Ø§ØªØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯: "),e("ul",{class:"mt-3 space-y-2 text-gray-700 list-disc list-inside text-sm md:text-base"},[e("li",null,[e("strong",null,"Ù‡Ù…Ù‡:"),$(" Ù†Ù…Ø§ÛŒØ´ ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª.")]),e("li",null,[e("strong",null,"Ù„Ø§ÛŒÙ† ØºØ°Ø§ÛŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ:"),$(" ØºØ°Ø§Ù‡Ø§ÛŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø³Ù„Ø§Ù…Øª Ù…Ø­ÙˆØ±.")]),e("li",null,[e("strong",null,"Ù¾Ú© Ù…ÛŒØ§Ù†ÙˆØ¹Ø¯Ù‡:"),$(" Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§ÛŒ ØªØºØ°ÛŒÙ‡ Ø³Ø§Ù„Ù… Ù…ÛŒØ§Ù†ÙˆØ¹Ø¯Ù‡.")]),e("li",null,[e("strong",null,"Ø³Ø§Ù„Ø§Ø¯:"),$(" Ø§Ù†ÙˆØ§Ø¹ Ø³Ø§Ù„Ø§Ø¯Ù‡Ø§")]),e("li",null,[e("strong",null,"Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†:"),$(" Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†â€ŒÙ‡Ø§")]),e("li",null,[e("strong",null,"Ú©ÛŒÚ© Ùˆ Ù†Ø§Ù†:"),$(" Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©ÛŒÚ© Ùˆ Ù†Ø§Ù†")]),e("li",null,[e("strong",null,"Ø¯Ù…Ù†ÙˆØ´ Ùˆ Ù‚Ù‡ÙˆÙ‡:"),$(" Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ù…")]),e("li",null,[e("strong",null,"Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ:"),$(" Ø³Ø§ÛŒØ± Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§")]),e("li",null,[e("strong",null,"Ø§ÙˆØªÙ…ÛŒÙ„:"),$(" Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÙˆØªÙ…ÛŒÙ„")]),e("li",null,[e("strong",null,"ØµØ¨Ø­Ø§Ù†Ù‡:"),$(" ÙˆØ¹Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ØµØ¨Ø­Ø§Ù†Ù‡")]),e("li",null,[e("strong",null,"Ø¯Ø³Ø±â€ŒÙ‡Ø§:"),$(" Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø³Ø±")])]),e("p",{class:"mt-3 text-sm text-gray-600 text-xs md:text-sm"}," Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù‡Ø± Ú¯Ø±ÙˆÙ‡ ÙÛŒÙ„ØªØ±ØŒ ÙÙ‚Ø· Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¢Ù† Ø¯Ø³ØªÙ‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. ")]),e("div",{class:"bg-green-50 rounded-lg p-4 md:p-6 border-r-4 border-green-500"},[e("h3",{class:"text-lg md:text-xl font-bold text-green-700 mb-3 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 md:h-6 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),$(" Ø§Ø¹Ø¯Ø§Ø¯ Ø±ÙˆÛŒ ØªÙ‚ÙˆÛŒÙ… ")]),e("p",{class:"text-gray-700 leading-relaxed text-sm md:text-base mb-3 md:mb-4"}," Ø±ÙˆÛŒ Ù‡Ø± Ø±ÙˆØ² Ø¯Ø± ØªÙ‚ÙˆÛŒÙ…ØŒ ÛŒÚ© Ø¹Ø¯Ø¯ Ø¯Ø± Ø¨Ø§Ù„Ø§ÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. "),e("div",{class:"mt-3 bg-white rounded p-3 md:p-4 border border-green-200"},[e("div",{class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},[e("div",{class:"flex-1 text-right"},[e("p",{class:"text-gray-700 font-medium mb-2 text-sm md:text-base"},"Ø§ÛŒÙ† Ø¹Ø¯Ø¯ Ù†Ø´Ø§Ù†Ú¯Ø±:"),e("p",{class:"text-gray-700 text-sm md:text-base"},[e("strong",null,"ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­ØµÙˆÙ„Ø§ØªÛŒ Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ø±Ø§ÛŒ Ø¢Ù† Ø±ÙˆØ² Ø¯Ø± Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.")]),e("i",null,[e("p",{class:"text-sm text-gray-900 mt-2 text-xs md:text-sm"}," Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ØŒ Ø§Ú¯Ø± Ø¹Ø¯Ø¯ Û² Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯ØŒ ÛŒØ¹Ù†ÛŒ Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Û² Ù…Ø­ØµÙˆÙ„ Ø¨Ø±Ø§ÛŒ Ø¢Ù† Ø±ÙˆØ² Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯. ")])]),e("div",{class:"shrink-0 mt-2 md:mt-0"},[e("img",{src:"/images/day.png",alt:"Ø±ÙˆØ²",class:"w-32 md:w-38 h-auto"})])])]),e("p",{class:"text-gray-700 leading-relaxed text-sm md:text-base mt-4 md:mt-6"}," ÙˆØ³Ø· Ù‡Ø± Ø±ÙˆØ² Ø¯Ø± ØªÙ‚ÙˆÛŒÙ…ØŒ ÛŒÚ© Ø¹Ø¯Ø¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. "),e("div",{class:"mt-3 bg-white rounded p-3 md:p-4 border border-green-200"},[e("div",{class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},[e("div",{class:"flex-1 text-right"},[e("p",{class:"text-gray-700 font-medium mb-2 text-sm md:text-base"},"Ø§ÛŒÙ† Ø¹Ø¯Ø¯ Ù†Ø´Ø§Ù†Ú¯Ø±:"),e("p",{class:"text-gray-700 text-sm md:text-base"},[e("strong",null,"ØªØ¹Ø¯Ø§Ø¯ Ù‡Ù…Ú©Ø§Ø±Ø§Ù† Ø´Ø±Ú©Øª Ø´Ù…Ø§ Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ† Ø±ÙˆØ² Ù…Ø­ØµÙˆÙ„ÛŒ Ø±Ø§ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯.")]),e("i",null,[e("p",{class:"text-sm text-gray-900 mt-2 text-xs md:text-sm"}," Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ØŒ Ø§Ú¯Ø± Ø¹Ø¯Ø¯ Û²Ûµ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯ØŒ ÛŒØ¹Ù†ÛŒ Û²Ûµ Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ø´Ø±Ú©Øª Ø´Ù…Ø§ Ø¯Ø± Ø§ÛŒÙ† Ø±ÙˆØ² Ù…Ø­ØµÙˆÙ„ÛŒ Ø±Ø§ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯. ")])]),e("div",{class:"shrink-0 mt-2 md:mt-0"},[e("img",{src:"/images/day-center.png",alt:"Ø±ÙˆØ² - Ù…Ø±Ú©Ø²",class:"w-32 md:w-38 h-auto"})])])])]),e("div",{class:"bg-purple-50 rounded-lg p-4 md:p-6 border-r-4 border-purple-500"},[e("h3",{class:"text-lg md:text-xl font-bold text-purple-700 mb-3 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 md:h-6 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),$(" Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‚ÛŒÙ…Øª Ú©Ù„ ")]),e("p",{class:"text-gray-700 leading-relaxed mb-3 md:mb-4 text-sm md:text-base"}," Ù‚ÛŒÙ…Øª Ú©Ù„ Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ¹Ø¯Ø§Ø¯ Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ùˆ Ù†ÙˆØ¹ Ù¾Ù„Ù† Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯: "),e("div",{class:"space-y-3"},[e("div",{class:"bg-white rounded p-3 md:p-4 border border-purple-200"},[e("h4",{class:"font-bold text-red-600 mb-2 text-sm md:text-base"},"Ø®Ø±ÛŒØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡ (Ø§Ù†ØªØ®Ø§Ø¨ Û± ÛŒØ§ Û² Ø±ÙˆØ²)"),e("p",{class:"text-sm text-gray-700 text-xs md:text-sm"}," Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Û± ÛŒØ§ Û² Ø±ÙˆØ²ØŒ ØªØ®ÙÛŒÙ Ùˆ Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ ØªØ¹Ù„Ù‚ Ù†Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯. ")]),e("div",{class:"bg-white rounded p-3 md:p-4 border border-purple-200"},[e("h4",{class:"font-bold text-green-600 mb-2 text-sm md:text-base"},"Ø®Ø±ÛŒØ¯ Ù‡ÙØªÚ¯ÛŒ (Û³ Ø±ÙˆØ² ÛŒØ§ Ø¨ÛŒØ´ØªØ±)"),e("p",{class:"text-sm text-gray-700 text-xs md:text-sm"},[$(" Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Û³ Ø±ÙˆØ² ÛŒØ§ Ø¨ÛŒØ´ØªØ±ØŒ "),e("strong",null,"Û²Û°Ùª ØªØ®ÙÛŒÙ"),$(" Ùˆ "),e("strong",null,"Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª"),$(" Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ ØªØ¹Ù„Ù‚ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯. ")])]),e("div",{class:"bg-white rounded p-3 md:p-4 border border-purple-200"},[e("h4",{class:"font-bold text-purple-600 mb-2 text-sm md:text-base"}," Ø®Ø±ÛŒØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡ (Ø­Ø¯Ø§Ù‚Ù„ Û¸ Ø±ÙˆØ² Ø¯Ø± Û´ Ù‡ÙØªÙ‡ Ù…ØªÙˆØ§Ù„ÛŒ) "),e("p",{class:"text-sm text-gray-700 text-xs md:text-sm"},[$(" Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Û¸ Ø±ÙˆØ² ÛŒØ§ Ø¨ÛŒØ´ØªØ±ØŒ "),e("strong",null,"Û´Û°Ùª ØªØ®ÙÛŒÙ"),$(" Ùˆ "),e("strong",null,"Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª"),$(" Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ ØªØ¹Ù„Ù‚ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯. ")])])]),e("div",{class:"mt-4 bg-white rounded p-3 md:p-4 border border-purple-200"},[e("p",{class:"text-gray-700 font-medium mb-2 text-sm md:text-base"},"ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:"),e("p",{class:"text-sm md:text-base"},"Ù‚ÛŒÙ…Øª Ù…ØµØ±Ùâ€ŒÚ©Ù†Ù†Ø¯Ù‡ - Ø³ÙˆØ¨Ø³ÛŒØ¯ Ø´Ø±Ú©Øª - ØªØ®ÙÛŒÙ Ù¾Ù„Ù† (Ù‡ÙØªÚ¯ÛŒ/ Ù…Ø§Ù‡Ø§Ù†Ù‡) + Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„")])])],-1)),e("div",{class:"mt-6 md:mt-8 flex justify-center"},[e("button",{onClick:M,class:"px-6 md:px-8 py-3 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600 transition-colors cursor-pointer shadow-md hover:shadow-lg text-sm md:text-base"}," ÙÙ‡Ù…ÛŒØ¯Ù…ØŒ Ù…ØªØ´Ú©Ø±Ù… ")])])])):C("",!0)]),_:1}))}},aa=xe(ta,[["__scopeId","data-v-bfed1a72"]]),la=["href"],sa=["content"],ra=["content"],na=["content"],oa={class:"container mx-auto px-6 mb-8"},ia=["onClick"],da=["src","alt"],ua={key:0,class:"text-center py-8"},ca={key:1,class:"container mx-auto px-6"},ma={key:0,class:"text-center py-12"},ga={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 mb-8"},fa={key:2,class:"mt-10 flex justify-center items-center gap-2 flex-wrap mb-8"},xa={key:2,class:"px-2 text-gray-500"},ba=["onClick"],pa={key:3,class:"px-2 text-gray-500"},va={__name:"Index",props:{meals:Object,pagination:Object,filters:Object},setup(a){const X=Me("cartIsOpen",y(!1)),b=P(()=>X.value),L=P(()=>typeof window<"u"?window.location.href:""),j=P(()=>typeof window<"u"?`${window.location.origin}/images/icon.png`:""),M=y(!1);fe(b,m=>{m&&M.value&&(M.value=!1)});const A=y(0),O=y(""),W=y(""),z=y(""),p=y(1),I=y(!1),U=y("Ù‡Ù…Ù‡"),J=y(!1),f=y(0),v=y(0),n=ke().props.auth?.user||null,d=a,c=[{title:"Ù‡Ù…Ù‡",type:"category"},{title:"Ù„Ø§ÛŒÙ† ØºØ°Ø§ÛŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ",image:"/images/food-categories/eco.png",type:"category"},{title:"Ù¾Ú© Ù…ÛŒØ§Ù†ÙˆØ¹Ø¯Ù‡",image:"/images/food-types/package.png",type:"category"},{title:"Ø³Ø§Ù„Ø§Ø¯",image:"/images/food-types/salad.png",type:"category"},{title:"Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†",image:"/images/food-types/sandwich.png",type:"category"},{title:"Ú©ÛŒÚ© Ùˆ Ù†Ø§Ù†",image:"/images/food-types/cake.png",type:"category"},{title:"Ø¯Ù…Ù†ÙˆØ´ Ùˆ Ù‚Ù‡ÙˆÙ‡",image:"/images/food-types/coffee.png",type:"category"},{title:"Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ",image:"/images/food-types/drinks.png",type:"category"},{title:"Ø§ÙˆØªÙ…ÛŒÙ„",image:"/images/food-types/ot-meal.png",type:"category"},{title:"ØµØ¨Ø­Ø§Ù†Ù‡",image:"/images/food-types/breakfast.png",type:"category"},{title:"Ø¯Ø³Ø±â€ŒÙ‡Ø§",image:"/images/food-types/dessert.png",type:"category"}],l=P(()=>{if(!d.pagination)return[];const m=d.pagination.last_page,o=d.pagination.current_page;let _=Math.max(o-1,1),Y=Math.min(o+1,m);o<=3&&(Y=Math.min(5,m)),o>=m-2&&(_=Math.max(m-4,1));const re=[];for(let te=_;te<=Y;te++)re.push(te);return re}),s=m=>{I.value=!0,U.value=m.title;const o=new URLSearchParams;m.type==="category"&&m.title!=="Ù‡Ù…Ù‡"&&o.append("category",m.title),se.get(`/menu?${o.toString()}`,{},{preserveState:!0,replace:!0,onFinish:()=>I.value=!1})},w=()=>{I.value=!0,U.value="Ù‡Ù…Ù‡",se.get("/menu",{},{preserveState:!0,replace:!0,onFinish:()=>I.value=!1})},x=m=>{I.value=!0;const o=new URLSearchParams;d.filters?.category&&d.filters.category!=="Ù‡Ù…Ù‡"&&o.append("category",d.filters.category),d.filters?.type&&o.append("type",d.filters.type),o.append("page",m),se.get(`/menu?${o.toString()}`,{},{preserveState:!0,replace:!0,onFinish:()=>I.value=!1})},q=m=>se.post("/cart",{meal_id:m.id,quantity:1}),K=m=>se.get(`/meals/${m.id}`);function G(m){const o=m&&typeof m=="object"&&"basePrice"in m?Number(m.basePrice):Number(m);A.value=isNaN(o)?0:o,m&&typeof m=="object"&&("mealId"in m&&(O.value=String(m.mealId)),"mealTitle"in m&&(W.value=m.mealTitle||""),"mealImage"in m&&(z.value=m.mealImage||""),"quantity"in m&&(p.value=Number(m.quantity)||1)),M.value=!0}const N=m=>{J.value=!0,f.value=m.pageX-m.currentTarget.offsetLeft,v.value=m.currentTarget.scrollLeft},H=()=>J.value=!1,ce=m=>{if(!J.value)return;m.preventDefault();const _=m.pageX-m.currentTarget.offsetLeft-f.value;m.currentTarget.scrollLeft=v.value-_};return(m,o)=>(i(),ee(je,null,{default:ue(()=>[he(de(Te),null,{default:ue(()=>[o[5]||(o[5]=e("title",null,"Ù…Ù†ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§",-1)),o[6]||(o[6]=e("meta",{name:"description",content:"Ù…Ù†ÙˆÛŒ Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ Ø´Ø§Ù…Ù„ Ø§Ù†ÙˆØ§Ø¹ ØºØ°Ø§Ù‡Ø§ÛŒ Ø³Ø§Ù„Ù…ØŒ Ø³Ø§Ù„Ø§Ø¯ØŒ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†ØŒ ØµØ¨Ø­Ø§Ù†Ù‡ØŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ùˆ Ø¯Ø³Ø±. Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚ÛŒÙ…Øª Ùˆ Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ†."},null,-1)),o[7]||(o[7]=e("meta",{name:"keywords",content:"Ù…Ù†ÙˆÛŒ Ø§ÛŒÙˆØ§, Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§, Ø³ÙØ§Ø±Ø´ ØºØ°Ø§, ØºØ°Ø§ÛŒ Ø³Ø§Ù„Ù…, Ø³Ø§Ù„Ø§Ø¯, Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†, ØµØ¨Ø­Ø§Ù†Ù‡, Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ"},null,-1)),e("link",{rel:"canonical",href:L.value},null,8,la),o[8]||(o[8]=e("meta",{property:"og:title",content:"Ù…Ù†ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§"},null,-1)),o[9]||(o[9]=e("meta",{property:"og:description",content:"Ù…Ù†ÙˆÛŒ Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ Ø´Ø§Ù…Ù„ Ø§Ù†ÙˆØ§Ø¹ ØºØ°Ø§Ù‡Ø§ÛŒ Ø³Ø§Ù„Ù…ØŒ Ø³Ø§Ù„Ø§Ø¯ØŒ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†ØŒ ØµØ¨Ø­Ø§Ù†Ù‡ØŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ùˆ Ø¯Ø³Ø±."},null,-1)),o[10]||(o[10]=e("meta",{property:"og:type",content:"website"},null,-1)),e("meta",{property:"og:url",content:L.value},null,8,sa),e("meta",{property:"og:image",content:j.value},null,8,ra),o[11]||(o[11]=e("meta",{name:"twitter:card",content:"summary_large_image"},null,-1)),o[12]||(o[12]=e("meta",{name:"twitter:title",content:"Ù…Ù†ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§"},null,-1)),o[13]||(o[13]=e("meta",{name:"twitter:description",content:"Ù…Ù†ÙˆÛŒ Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§ Ø´Ø§Ù…Ù„ Ø§Ù†ÙˆØ§Ø¹ ØºØ°Ø§Ù‡Ø§ÛŒ Ø³Ø§Ù„Ù…ØŒ Ø³Ø§Ù„Ø§Ø¯ØŒ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†ØŒ ØµØ¨Ø­Ø§Ù†Ù‡ØŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ùˆ Ø¯Ø³Ø±."},null,-1)),e("meta",{name:"twitter:image",content:j.value},null,8,na)]),_:1}),o[16]||(o[16]=e("h1",{class:"text-3xl font-bold text-center text-gray-800 my-10"},"Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙˆØ§",-1)),e("div",oa,[e("div",{class:"overflow-x-auto py-2 no-scrollbar",ref:"scrollContainer",onMousedown:N,onMouseup:H,onMouseleave:H,onMousemove:ce},[e("div",{class:V(["flex gap-3 w-max cursor-grab",{"cursor-grabbing":J.value}])},[(i(),g(B,null,F(c,_=>e("button",{key:_.title,onClick:Y=>s(_),class:V(["flex items-center gap-2 flex-shrink-0 px-4 py-2 rounded-full border text-sm transition",U.value===_.title?"bg-blue-500 text-white border-blue-500":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"])},[_.image?(i(),g("img",{key:0,class:"w-5 h-5 object-contain",src:_.image,alt:_.title},null,8,da)):C("",!0),e("span",null,h(_.title),1)],10,ia)),64))],2)],544)]),I.value?(i(),g("div",ua,[...o[14]||(o[14]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...",-1)])])):(i(),g("div",ca,[a.meals.data.length===0?(i(),g("div",ma,[o[15]||(o[15]=e("p",{class:"text-gray-500 text-lg"},"Ù…Ø­ØµÙˆÙ„ÛŒ Ø¨Ø§ ÙÛŒÙ„ØªØ± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯.",-1)),e("button",{onClick:w,class:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition cursor-pointer"}," Ø­Ø°Ù ÙÛŒÙ„ØªØ±Ù‡Ø§ ")])):(i(),g("div",ga,[(i(!0),g(B,null,F(a.meals.data,_=>(i(),ee(_t,{key:_.id,meal:_,onAddToCart:q,onOpenCalendar:G,onViewDetails:K},null,8,["meal"]))),128))])),a.meals.data.length>0&&a.pagination.last_page>1?(i(),g("div",fa,[a.pagination.current_page>1?(i(),g("button",{key:0,onClick:o[0]||(o[0]=_=>x(a.pagination.current_page-1)),class:"px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-100 transition cursor-pointer"}," Ù‚Ø¨Ù„ÛŒ ")):C("",!0),a.pagination.current_page>3&&!l.value.includes(1)?(i(),g("button",{key:1,onClick:o[1]||(o[1]=_=>x(1)),class:V(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",a.pagination.current_page===1?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])}," 1 ",2)):C("",!0),a.pagination.current_page>4?(i(),g("span",xa,"...")):C("",!0),(i(!0),g(B,null,F(l.value,_=>(i(),g("button",{key:_,onClick:Y=>x(_),class:V(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",_===a.pagination.current_page?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])},h(_),11,ba))),128)),a.pagination.current_page<a.pagination.last_page-3?(i(),g("span",pa,"...")):C("",!0),a.pagination.current_page<a.pagination.last_page-2&&!l.value.includes(a.pagination.last_page)?(i(),g("button",{key:4,onClick:o[2]||(o[2]=_=>x(a.pagination.last_page)),class:V(["px-3 py-1 rounded-lg border border-gray-300 cursor-pointer",a.pagination.last_page===a.pagination.current_page?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-100"])},h(a.pagination.last_page),3)):C("",!0),a.pagination.current_page<a.pagination.last_page?(i(),g("button",{key:5,onClick:o[3]||(o[3]=_=>x(a.pagination.current_page+1)),class:"px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-100 transition cursor-pointer"}," Ø¨Ø¹Ø¯ÛŒ ")):C("",!0)])):C("",!0)])),de(n)&&!b.value?(i(),ee(Oe,{key:2})):C("",!0),de(n)&&!b.value?(i(),ee(ea,{key:3,open:M.value,"onUpdate:open":o[4]||(o[4]=_=>M.value=_),basePrice:A.value,mealId:O.value,mealTitle:W.value,mealImage:z.value,mealQuantity:p.value},null,8,["open","basePrice","mealId","mealTitle","mealImage","mealQuantity"])):C("",!0),de(n)?(i(),ee(aa,{key:4})):C("",!0)]),_:1}))}},ja=xe(va,[["__scopeId","data-v-4d9c0372"]]);export{ja as default};
