import{r as h,c as k,a as C,o,w as V,b as e,d as n,e as d,f as g,v as r,g as A,F as S,h as U,t as i,i as p}from"./app-Bx3kQc72.js";import{_ as B}from"./AdminAppLayout-C7GeDG2w.js";const D={class:"bg-gray-800 p-4 rounded mb-6 flex items-center space-x-2"},$={class:"grid grid-cols-2 gap-4"},j={class:"bg-gray-800 p-4 rounded"},F={class:"w-full text-right"},L={class:"p-2"},M={class:"p-2"},N={class:"p-2"},O={class:"p-2"},E={class:"p-2 flex space-x-2"},I=["onClick"],R=["onClick"],T={key:0},G={__name:"Admins",props:{admins:Object,filters:Object},setup(c){const m=c,a=h({name:"",email:"",password:"",phone:""}),l=h({search:m.filters?.search??""});function x(){p.post("/admin/users/admins",a.value),a.value={name:"",email:"",password:"",phone:""}}const f=k(()=>m.admins.data??[]);function b(){p.get("/admin/users/admins",{search:l.value.search},{preserveState:!0,replace:!0})}function v(){l.value.search="",b()}function y(u){confirm("آیا از حذف این ادمین مطمئن هستید؟")&&p.delete(`/admin/users/admins/${u}`)}function w(u){alert("ویرایش هنوز پیاده‌سازی نشده!")}return(u,t)=>(o(),C(B,null,{default:V(()=>[e("div",null,[t[8]||(t[8]=e("h2",{class:"text-xl font-bold mb-6 text-yellow-600"},"مدیریت ادمین‌ها",-1)),e("div",D,[n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.search=s),type:"text",placeholder:"جستجو بر اساس نام، ایمیل یا تلفن...",class:"flex-1 p-2 bg-gray-700 rounded text-white"},null,512),[[r,l.value.search]]),e("button",{onClick:b,class:"bg-yellow-500 text-gray-900 px-4 py-2 rounded font-bold"}," جستجو "),l.value.search?(o(),d("button",{key:0,onClick:v,class:"bg-gray-600 text-white px-4 py-2 rounded font-bold"}," پاک کردن ")):g("",!0)]),e("form",{onSubmit:A(x,["prevent"]),class:"bg-gray-800 p-4 rounded mb-6"},[e("div",$,[n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.name=s),placeholder:"نام",class:"p-2 bg-gray-700 rounded text-white"},null,512),[[r,a.value.name]]),n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.email=s),placeholder:"ایمیل",class:"p-2 bg-gray-700 rounded text-white"},null,512),[[r,a.value.email]]),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.password=s),type:"password",placeholder:"رمز عبور",class:"p-2 bg-gray-700 rounded text-white"},null,512),[[r,a.value.password]]),n(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.phone=s),type:"number",placeholder:"شماره تلفن",class:"p-2 bg-gray-700 rounded text-white"},null,512),[[r,a.value.phone]])]),t[5]||(t[5]=e("button",{class:"mt-4 bg-yellow-500 text-gray-900 px-4 py-2 rounded font-bold"},"افزودن ادمین",-1))],32),e("div",j,[e("table",F,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"border-b text-white border-gray-700"},[e("th",{class:"p-2"},"نام"),e("th",{class:"p-2"},"ایمیل"),e("th",{class:"p-2"},"تلفن"),e("th",{class:"p-2"},"تاریخ ایجاد"),e("th",{class:"p-2"},"عملیات")])],-1)),e("tbody",null,[(o(!0),d(S,null,U(f.value,s=>(o(),d("tr",{key:s.id,class:"border-b border-gray-700 text-white"},[e("td",L,i(s.name),1),e("td",M,i(s.email),1),e("td",N,i(s.phone??"---"),1),e("td",O,i(new Date(s.created_at).toLocaleDateString("fa-IR")),1),e("td",E,[e("button",{onClick:_=>w(s),class:"text-blue-400 hover:text-blue-600"}," ✏️ ",8,I),e("button",{onClick:_=>y(s.id),class:"text-red-400 hover:text-red-600"}," 🗑️ ",8,R)])]))),128)),c.admins.length===0?(o(),d("tr",T,t[6]||(t[6]=[e("td",{colspan:"5",class:"text-center text-gray-400 p-4"},"ادمینی یافت نشد",-1)]))):g("",!0)])])])])]),_:1}))}};export{G as default};
