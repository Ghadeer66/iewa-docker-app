import{r as x,c as h,o,w as k,a as e,g as c,d as v,v as S,e as i,F as r,h as d,t as a,p as C,m as f,i as g}from"./app-Cz0OShX1.js";import{_ as P}from"./AdminAppLayout-zmqUInIm.js";const V={class:"flex gap-4"},$={class:"grid grid-cols-2 gap-6"},B={class:"bg-gray-800 p-4 rounded"},F={class:"space-y-2"},M=["onClick"],T={class:"bg-gray-800 p-4 rounded"},U={class:"space-y-4"},A={class:"font-bold text-white mb-2"},D={class:"flex flex-wrap gap-2"},N=["onClick"],R={class:"mt-6 bg-gray-800 p-4 rounded"},j=["value"],E=["value"],G={__name:"Permissions",props:{permissions:Array,roles:Array},setup(u){const m=x({name:""}),n=x({permission_id:"",role_id:""});function b(){g.post("/admin/users/permissions",m.value,{onSuccess:()=>m.value={name:""}})}function y(){g.post("/admin/users/permissions/assign-to-role",n.value,{onSuccess:()=>n.value={permission_id:"",role_id:""}})}function w(p,s,t){confirm(`Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù…Ø¬ÙˆØ² "${t}" Ø±Ø§ Ø§Ø² Ø§ÛŒÙ† Ù†Ù‚Ø´ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ`)&&g.post("/admin/users/permissions/revoke-from-role",{role_id:p,permission_id:s})}function _(p){confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù…Ø¬ÙˆØ² Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")&&g.delete(`/admin/users/permissions/${p}`)}return(p,s)=>(o(),h(P,null,{default:k(()=>[e("div",null,[s[10]||(s[10]=e("h2",{class:"text-xl font-bold mb-6 text-yellow-600"},"Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø¬ÙˆØ²Ù‡Ø§",-1)),e("form",{onSubmit:c(b,["prevent"]),class:"bg-gray-800 p-4 rounded mb-6"},[e("div",V,[v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>m.value.name=t),placeholder:"Ù†Ø§Ù… Ù…Ø¬ÙˆØ² (Ù…Ø«Ø§Ù„: view-posts)",class:"flex-1 p-2 bg-gray-700 rounded text-white"},null,512),[[S,m.value.name]]),s[3]||(s[3]=e("button",{class:"bg-yellow-500 text-gray-900 px-4 py-2 rounded font-bold"},"Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø¬ÙˆØ²",-1))])],32),e("div",$,[e("div",B,[s[4]||(s[4]=e("h3",{class:"text-lg font-bold mb-4 text-white"},"Ù…Ø¬ÙˆØ²Ù‡Ø§",-1)),e("div",F,[(o(!0),i(r,null,d(u.permissions,t=>(o(),i("div",{key:t.id,class:"flex items-center justify-between p-2 bg-gray-700 rounded text-white"},[e("span",null,a(t.name),1),e("button",{onClick:l=>_(t.id),class:"text-red-400 hover:text-red-600 cursor-pointer"}," ðŸ—‘ï¸ ",8,M)]))),128))])]),e("div",T,[s[5]||(s[5]=e("h3",{class:"text-lg font-bold mb-4 text-white"},"Ù†Ù‚Ø´â€ŒÙ‡Ø§",-1)),e("div",U,[(o(!0),i(r,null,d(u.roles,t=>(o(),i("div",{key:t.id,class:"p-3 bg-gray-700 rounded"},[e("h4",A,a(t.name),1),e("div",D,[(o(!0),i(r,null,d(t.permissions,l=>(o(),i("span",{key:l.id,class:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white text-xs rounded"},[C(a(l.name)+" ",1),e("button",{onClick:L=>w(t.id,l.id,l.name),class:"hover:text-red-300 transition-colors",title:"Ø­Ø°Ù Ù…Ø¬ÙˆØ²"}," âœ• ",8,N)]))),128))])]))),128))])])]),e("div",R,[s[9]||(s[9]=e("h3",{class:"text-lg font-bold mb-4 text-white"},"Ø§Ø®ØªØµØ§Øµ Ù…Ø¬ÙˆØ² Ø¨Ù‡ Ù†Ù‚Ø´",-1)),e("form",{onSubmit:c(y,["prevent"]),class:"flex gap-4"},[v(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>n.value.permission_id=t),class:"flex-1 p-2 bg-gray-700 rounded text-white"},[s[6]||(s[6]=e("option",{value:"",disabled:""},"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¬ÙˆØ²",-1)),(o(!0),i(r,null,d(u.permissions,t=>(o(),i("option",{key:t.id,value:t.id},a(t.name),9,j))),128))],512),[[f,n.value.permission_id]]),v(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>n.value.role_id=t),class:"flex-1 p-2 bg-gray-700 rounded text-white"},[s[7]||(s[7]=e("option",{value:"",disabled:""},"Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù‚Ø´",-1)),(o(!0),i(r,null,d(u.roles,t=>(o(),i("option",{key:t.id,value:t.id},a(t.name),9,E))),128))],512),[[f,n.value.role_id]]),s[8]||(s[8]=e("button",{type:"submit",class:"bg-green-500 text-white px-6 py-2 rounded font-bold"},"Ø§Ø®ØªØµØ§Øµ",-1))],32)])])]),_:1}))}};export{G as default};
